unit [0,0]
    function [0,609]
        type [0,10]
            specifier: static [0,6]
            name: int [7,10]
        name: kvaser_usb_leaf_set_opt_mode [11,39]
        parameter_list [39,79]
            parameter [40,78]
                decl [40,78]
                    type [40,78]
                        specifier: const [40,45]
                        name [46,72]
                            name: struct [46,52]
                            name: kvaser_usb_net_priv [53,72]
                        modifier: * [73,74]
                    name: priv [74,78]
        block [80,609]
            block_content [83,607]
                decl_stmt [83,106]
                    decl [83,105]
                        type [83,102]
                            name [83,100]
                                name: struct [83,89]
                                name: kvaser_cmd [90,100]
                            modifier: * [101,102]
                        name: cmd [102,105]
                decl_stmt [108,115]
                    decl [108,114]
                        type [108,111]
                            name: int [108,111]
                        name: rc [112,114]
                expr_stmt [118,158]
                    expr [118,157]
                        name: cmd [118,121]
                        operator: = [122,123]
                        call [124,157]
                            name: kzalloc [124,131]
                            argument_list [131,157]
                                argument [132,144]
                                    expr [132,144]
                                        sizeof [132,144]
                                            argument_list [138,144]
                                                argument [139,143]
                                                    expr [139,143]
                                                        operator: * [139,140]
                                                        name: cmd [140,143]
                                argument [146,156]
                                    expr [146,156]
                                        name: GFP_KERNEL [146,156]
                if_stmt [160,187]
                    if [160,187]
                        condition [163,169]
                            expr [164,168]
                                operator: ! [164,165]
                                name: cmd [165,168]
                        block [172,187]
                            block_content [172,187]
                                return [172,187]
                                    expr [179,186]
                                        operator: - [179,180]
                                        name: ENOMEM [180,186]
                expr_stmt [190,218]
                    expr [190,217]
                        name [190,197]
                            name: cmd [190,193]
                            operator: -> [193,195]
                            name: id [195,197]
                        operator: = [198,199]
                        name: CMD_SET_CTRL_MODE [200,217]
                expr_stmt [220,284]
                    expr [220,283]
                        name [220,228]
                            name: cmd [220,223]
                            operator: -> [223,225]
                            name: len [225,228]
                        operator: = [229,230]
                        name: CMD_HEADER_LEN [231,245]
                        operator: + [246,247]
                        sizeof [248,283]
                            argument_list [254,283]
                                argument [255,282]
                                    expr [255,282]
                                        name: kvaser_cmd_ctrl_mode [262,282]
                expr_stmt [286,314]
                    expr [286,313]
                        name [286,306]
                            name: cmd [286,289]
                            operator: -> [289,291]
                            name: u [291,292]
                            operator: . [292,293]
                            name: ctrl_mode [293,302]
                            operator: . [302,303]
                            name: tid [303,306]
                        operator: = [307,308]
                        literal: 0xff [309,313]
                expr_stmt [316,357]
                    expr [316,356]
                        name [316,340]
                            name: cmd [316,319]
                            operator: -> [319,321]
                            name: u [321,322]
                            operator: . [322,323]
                            name: ctrl_mode [323,332]
                            operator: . [332,333]
                            name: channel [333,340]
                        operator: = [341,342]
                        name [343,356]
                            name: priv [343,347]
                            operator: -> [347,349]
                            name: channel [349,356]
                if_stmt [360,527]
                    if [360,465]
                        condition [363,409]
                            expr [364,408]
                                name [364,382]
                                    name: priv [364,368]
                                    operator: -> [368,370]
                                    name: can [370,373]
                                    operator: . [373,374]
                                    name: ctrlmode [374,382]
                                operator: & [383,384]
                                name: CAN_CTRLMODE_LISTENONLY [385,408]
                        block [412,465]
                            block_content [412,465]
                                expr_stmt [412,465]
                                    expr [412,464]
                                        name [412,438]
                                            name: cmd [412,415]
                                            operator: -> [415,417]
                                            name: u [417,418]
                                            operator: . [418,419]
                                            name: ctrl_mode [419,428]
                                            operator: . [428,429]
                                            name: ctrl_mode [429,438]
                                        operator: = [439,440]
                                        name: KVASER_CTRL_MODE_SILENT [441,464]
                    else [467,527]
                        block [474,527]
                            block_content [474,527]
                                expr_stmt [474,527]
                                    expr [474,526]
                                        name [474,500]
                                            name: cmd [474,477]
                                            operator: -> [477,479]
                                            name: u [479,480]
                                            operator: . [480,481]
                                            name: ctrl_mode [481,490]
                                            operator: . [490,491]
                                            name: ctrl_mode [491,500]
                                        operator: = [501,502]
                                        name: KVASER_CTRL_MODE_NORMAL [503,526]
                expr_stmt [530,581]
                    expr [530,580]
                        name: rc [530,532]
                        operator: = [533,534]
                        call [535,580]
                            name: kvaser_usb_send_cmd [535,554]
                            argument_list [554,580]
                                argument [555,564]
                                    expr [555,564]
                                        name [555,564]
                                            name: priv [555,559]
                                            operator: -> [559,561]
                                            name: dev [561,564]
                                argument [566,569]
                                    expr [566,569]
                                        name: cmd [566,569]
                                argument [571,579]
                                    expr [571,579]
                                        name [571,579]
                                            name: cmd [571,574]
                                            operator: -> [574,576]
                                            name: len [576,579]
                expr_stmt [584,595]
                    expr [584,594]
                        call [584,594]
                            name: kfree [584,589]
                            argument_list [589,594]
                                argument [590,593]
                                    expr [590,593]
                                        name: cmd [590,593]
                return [597,607]
                    expr [604,606]
                        name: rc [604,606]