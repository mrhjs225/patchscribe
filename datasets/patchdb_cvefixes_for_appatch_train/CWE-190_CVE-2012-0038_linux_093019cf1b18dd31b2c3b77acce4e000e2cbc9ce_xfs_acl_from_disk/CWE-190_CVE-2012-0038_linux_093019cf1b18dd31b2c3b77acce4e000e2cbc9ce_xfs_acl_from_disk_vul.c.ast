unit [0,0]
    macro [0,39]
        name: xfs_acl_from_disk [0,17]
        argument_list [17,39]
            argument [18,38]
    block [40,1013]
        block_content [43,1011]
            decl_stmt [43,73]
                decl [43,72]
                    type [43,67]
                        name [43,65]
                            name: struct [43,49]
                            name: posix_acl_entry [50,65]
                        modifier: * [66,67]
                    name: acl_e [67,72]
            decl_stmt [75,97]
                decl [75,96]
                    type [75,93]
                        name [75,91]
                            name: struct [75,81]
                            name: posix_acl [82,91]
                        modifier: * [92,93]
                    name: acl [93,96]
            decl_stmt [99,125]
                decl [99,124]
                    type [99,121]
                        name [99,119]
                            name: struct [99,105]
                            name: xfs_acl_entry [106,119]
                        modifier: * [120,121]
                    name: ace [121,124]
            decl_stmt [127,140]
                decl [127,136]
                    type [127,130]
                        name: int [127,130]
                    name: count [131,136]
                decl [138,139]
                    type [127,130]
                    name: i [138,139]
            expr_stmt [143,178]
                expr [143,177]
                    name: count [143,148]
                    operator: = [149,150]
                    call [151,177]
                        name: be32_to_cpu [151,162]
                        argument_list [162,177]
                            argument [163,176]
                                expr [163,176]
                                    name [163,176]
                                        name: aclp [163,167]
                                        operator: -> [167,169]
                                        name: acl_cnt [169,176]
            if_stmt [180,245]
                if [180,245]
                    condition [183,212]
                        expr [184,211]
                            name: count [184,189]
                            operator: > [190,191]
                            name: XFS_ACL_MAX_ENTRIES [192,211]
                    block [215,245]
                        block_content [215,245]
                            return [215,245]
                                expr [222,244]
                                    call [222,244]
                                        name: ERR_PTR [222,229]
                                        argument_list [229,244]
                                            argument [230,243]
                                                expr [230,243]
                                                    operator: - [230,231]
                                                    name: EFSCORRUPTED [231,243]
            expr_stmt [248,289]
                expr [248,288]
                    name: acl [248,251]
                    operator: = [252,253]
                    call [254,288]
                        name: posix_acl_alloc [254,269]
                        argument_list [269,288]
                            argument [270,275]
                                expr [270,275]
                                    name: count [270,275]
                            argument [277,287]
                                expr [277,287]
                                    name: GFP_KERNEL [277,287]
            if_stmt [291,327]
                if [291,327]
                    condition [294,300]
                        expr [295,299]
                            operator: ! [295,296]
                            name: acl [296,299]
                    block [303,327]
                        block_content [303,327]
                            return [303,327]
                                expr [310,326]
                                    call [310,326]
                                        name: ERR_PTR [310,317]
                                        argument_list [317,326]
                                            argument [318,325]
                                                expr [318,325]
                                                    operator: - [318,319]
                                                    name: ENOMEM [319,325]
            for [330,940]
                control [334,357]
                    init [335,341]
                        expr [335,340]
                            name: i [335,336]
                            operator: = [337,338]
                            literal: 0 [339,340]
                    condition [342,352]
                        expr [342,351]
                            name: i [342,343]
                            operator: < [344,345]
                            name: count [346,351]
                    incr [353,356]
                        expr [353,356]
                            name: i [353,354]
                            operator: ++ [354,356]
                block [358,940]
                    block_content [362,937]
                        expr_stmt [362,389]
                            expr [362,388]
                                name: acl_e [362,367]
                                operator: = [368,369]
                                operator: & [370,371]
                                name [371,388]
                                    name: acl [371,374]
                                    operator: -> [374,376]
                                    name: a_entries [376,385]
                                    index [385,388]
                                        expr [386,387]
                                            name: i [386,387]
                        expr_stmt [392,418]
                            expr [392,417]
                                name: ace [392,395]
                                operator: = [396,397]
                                operator: & [398,399]
                                name [399,417]
                                    name: aclp [399,403]
                                    operator: -> [403,405]
                                    name: acl_entry [405,414]
                                    index [414,417]
                                        expr [415,416]
                                            name: i [415,416]
                        comment: /*
		 * The tag is 32 bits on disk and 16 bits in core.*
		 * Because every access to it goes through the core* format first this is not a problem.
		 */ [422,597]
                        expr_stmt [586,626]
                            expr [586,625]
                                name [586,598]
                                    name: acl_e [586,591]
                                    operator: -> [591,593]
                                    name: e_tag [593,598]
                                operator: = [599,600]
                                call [601,625]
                                    name: be32_to_cpu [601,612]
                                    argument_list [612,625]
                                        argument [613,624]
                                            expr [613,624]
                                                name [613,624]
                                                    name: ace [613,616]
                                                    operator: -> [616,618]
                                                    name: ae_tag [618,624]
                        expr_stmt [629,671]
                            expr [629,670]
                                name [629,642]
                                    name: acl_e [629,634]
                                    operator: -> [634,636]
                                    name: e_perm [636,642]
                                operator: = [643,644]
                                call [645,670]
                                    name: be16_to_cpu [645,656]
                                    argument_list [656,670]
                                        argument [657,669]
                                            expr [657,669]
                                                name [657,669]
                                                    name: ace [657,660]
                                                    operator: -> [660,662]
                                                    name: ae_perm [662,669]
                        switch [675,937]
                            condition [682,696]
                                expr [683,695]
                                    name [683,695]
                                        name: acl_e [683,688]
                                        operator: -> [688,690]
                                        name: e_tag [690,695]
                            block [697,937]
                                block_content [701,933]
                                    case [701,715]
                                        expr [706,714]
                                            name: ACL_USER [706,714]
                                    case [718,733]
                                        expr [723,732]
                                            name: ACL_GROUP [723,732]
                                    expr_stmt [737,775]
                                        expr [737,774]
                                            name [737,748]
                                                name: acl_e [737,742]
                                                operator: -> [742,744]
                                                name: e_id [744,748]
                                            operator: = [749,750]
                                            call [751,774]
                                                name: be32_to_cpu [751,762]
                                                argument_list [762,774]
                                                    argument [763,773]
                                                        expr [763,773]
                                                            name [763,773]
                                                                name: ace [763,766]
                                                                operator: -> [766,768]
                                                                name: ae_id [768,773]
                                    break [779,785]
                                    case [788,806]
                                        expr [793,805]
                                            name: ACL_USER_OBJ [793,805]
                                    case [809,828]
                                        expr [814,827]
                                            name: ACL_GROUP_OBJ [814,827]
                                    case [831,845]
                                        expr [836,844]
                                            name: ACL_MASK [836,844]
                                    case [848,863]
                                        expr [853,862]
                                            name: ACL_OTHER [853,862]
                                    expr_stmt [867,898]
                                        expr [867,897]
                                            name [867,878]
                                                name: acl_e [867,872]
                                                operator: -> [872,874]
                                                name: e_id [874,878]
                                            operator: = [879,880]
                                            name: ACL_UNDEFINED_ID [881,897]
                                    break [902,908]
                                    default [911,919]
                                    goto [923,933]
                                        name: fail [928,932]
            return [942,953]
                expr [949,952]
                    name: acl [949,952]
            label [955,960]
                name: fail [955,959]
            expr_stmt [962,985]
                expr [962,984]
                    call [962,984]
                        name: posix_acl_release [962,979]
                        argument_list [979,984]
                            argument [980,983]
                                expr [980,983]
                                    name: acl [980,983]
            return [987,1011]
                expr [994,1010]
                    call [994,1010]
                        name: ERR_PTR [994,1001]
                        argument_list [1001,1010]
                            argument [1002,1009]
                                expr [1002,1009]
                                    operator: - [1002,1003]
                                    name: EINVAL [1003,1009]