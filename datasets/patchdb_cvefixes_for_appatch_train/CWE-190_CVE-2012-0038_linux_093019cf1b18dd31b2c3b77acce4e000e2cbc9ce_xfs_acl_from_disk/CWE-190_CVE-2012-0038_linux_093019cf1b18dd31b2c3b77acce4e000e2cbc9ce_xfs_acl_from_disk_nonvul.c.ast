unit [0,0]
    macro [0,39]
        name: xfs_acl_from_disk [0,17]
        argument_list [17,39]
            argument [18,38]
    block [40,1022]
        block_content [43,1020]
            decl_stmt [43,73]
                decl [43,72]
                    type [43,67]
                        name [43,65]
                            name: struct [43,49]
                            name: posix_acl_entry [50,65]
                        modifier: * [66,67]
                    name: acl_e [67,72]
            decl_stmt [75,97]
                decl [75,96]
                    type [75,93]
                        name [75,91]
                            name: struct [75,81]
                            name: posix_acl [82,91]
                        modifier: * [92,93]
                    name: acl [93,96]
            decl_stmt [99,125]
                decl [99,124]
                    type [99,121]
                        name [99,119]
                            name: struct [99,105]
                            name: xfs_acl_entry [106,119]
                        modifier: * [120,121]
                    name: ace [121,124]
            decl_stmt [127,149]
                decl [127,145]
                    type [127,139]
                        name: unsigned [127,135]
                        name: int [136,139]
                    name: count [140,145]
                decl [147,148]
                    type [127,139]
                    name: i [147,148]
            expr_stmt [152,187]
                expr [152,186]
                    name: count [152,157]
                    operator: = [158,159]
                    call [160,186]
                        name: be32_to_cpu [160,171]
                        argument_list [171,186]
                            argument [172,185]
                                expr [172,185]
                                    name [172,185]
                                        name: aclp [172,176]
                                        operator: -> [176,178]
                                        name: acl_cnt [178,185]
            if_stmt [189,254]
                if [189,254]
                    condition [192,221]
                        expr [193,220]
                            name: count [193,198]
                            operator: > [199,200]
                            name: XFS_ACL_MAX_ENTRIES [201,220]
                    block [224,254]
                        block_content [224,254]
                            return [224,254]
                                expr [231,253]
                                    call [231,253]
                                        name: ERR_PTR [231,238]
                                        argument_list [238,253]
                                            argument [239,252]
                                                expr [239,252]
                                                    operator: - [239,240]
                                                    name: EFSCORRUPTED [240,252]
            expr_stmt [257,298]
                expr [257,297]
                    name: acl [257,260]
                    operator: = [261,262]
                    call [263,297]
                        name: posix_acl_alloc [263,278]
                        argument_list [278,297]
                            argument [279,284]
                                expr [279,284]
                                    name: count [279,284]
                            argument [286,296]
                                expr [286,296]
                                    name: GFP_KERNEL [286,296]
            if_stmt [300,336]
                if [300,336]
                    condition [303,309]
                        expr [304,308]
                            operator: ! [304,305]
                            name: acl [305,308]
                    block [312,336]
                        block_content [312,336]
                            return [312,336]
                                expr [319,335]
                                    call [319,335]
                                        name: ERR_PTR [319,326]
                                        argument_list [326,335]
                                            argument [327,334]
                                                expr [327,334]
                                                    operator: - [327,328]
                                                    name: ENOMEM [328,334]
            for [339,949]
                control [343,366]
                    init [344,350]
                        expr [344,349]
                            name: i [344,345]
                            operator: = [346,347]
                            literal: 0 [348,349]
                    condition [351,361]
                        expr [351,360]
                            name: i [351,352]
                            operator: < [353,354]
                            name: count [355,360]
                    incr [362,365]
                        expr [362,365]
                            name: i [362,363]
                            operator: ++ [363,365]
                block [367,949]
                    block_content [371,946]
                        expr_stmt [371,398]
                            expr [371,397]
                                name: acl_e [371,376]
                                operator: = [377,378]
                                operator: & [379,380]
                                name [380,397]
                                    name: acl [380,383]
                                    operator: -> [383,385]
                                    name: a_entries [385,394]
                                    index [394,397]
                                        expr [395,396]
                                            name: i [395,396]
                        expr_stmt [401,427]
                            expr [401,426]
                                name: ace [401,404]
                                operator: = [405,406]
                                operator: & [407,408]
                                name [408,426]
                                    name: aclp [408,412]
                                    operator: -> [412,414]
                                    name: acl_entry [414,423]
                                    index [423,426]
                                        expr [424,425]
                                            name: i [424,425]
                        comment: /*
		 * The tag is 32 bits on disk and 16 bits in core.*
		 * Because every access to it goes through the core* format first this is not a problem.
		 */ [431,606]
                        expr_stmt [595,635]
                            expr [595,634]
                                name [595,607]
                                    name: acl_e [595,600]
                                    operator: -> [600,602]
                                    name: e_tag [602,607]
                                operator: = [608,609]
                                call [610,634]
                                    name: be32_to_cpu [610,621]
                                    argument_list [621,634]
                                        argument [622,633]
                                            expr [622,633]
                                                name [622,633]
                                                    name: ace [622,625]
                                                    operator: -> [625,627]
                                                    name: ae_tag [627,633]
                        expr_stmt [638,680]
                            expr [638,679]
                                name [638,651]
                                    name: acl_e [638,643]
                                    operator: -> [643,645]
                                    name: e_perm [645,651]
                                operator: = [652,653]
                                call [654,679]
                                    name: be16_to_cpu [654,665]
                                    argument_list [665,679]
                                        argument [666,678]
                                            expr [666,678]
                                                name [666,678]
                                                    name: ace [666,669]
                                                    operator: -> [669,671]
                                                    name: ae_perm [671,678]
                        switch [684,946]
                            condition [691,705]
                                expr [692,704]
                                    name [692,704]
                                        name: acl_e [692,697]
                                        operator: -> [697,699]
                                        name: e_tag [699,704]
                            block [706,946]
                                block_content [710,942]
                                    case [710,724]
                                        expr [715,723]
                                            name: ACL_USER [715,723]
                                    case [727,742]
                                        expr [732,741]
                                            name: ACL_GROUP [732,741]
                                    expr_stmt [746,784]
                                        expr [746,783]
                                            name [746,757]
                                                name: acl_e [746,751]
                                                operator: -> [751,753]
                                                name: e_id [753,757]
                                            operator: = [758,759]
                                            call [760,783]
                                                name: be32_to_cpu [760,771]
                                                argument_list [771,783]
                                                    argument [772,782]
                                                        expr [772,782]
                                                            name [772,782]
                                                                name: ace [772,775]
                                                                operator: -> [775,777]
                                                                name: ae_id [777,782]
                                    break [788,794]
                                    case [797,815]
                                        expr [802,814]
                                            name: ACL_USER_OBJ [802,814]
                                    case [818,837]
                                        expr [823,836]
                                            name: ACL_GROUP_OBJ [823,836]
                                    case [840,854]
                                        expr [845,853]
                                            name: ACL_MASK [845,853]
                                    case [857,872]
                                        expr [862,871]
                                            name: ACL_OTHER [862,871]
                                    expr_stmt [876,907]
                                        expr [876,906]
                                            name [876,887]
                                                name: acl_e [876,881]
                                                operator: -> [881,883]
                                                name: e_id [883,887]
                                            operator: = [888,889]
                                            name: ACL_UNDEFINED_ID [890,906]
                                    break [911,917]
                                    default [920,928]
                                    goto [932,942]
                                        name: fail [937,941]
            return [951,962]
                expr [958,961]
                    name: acl [958,961]
            label [964,969]
                name: fail [964,968]
            expr_stmt [971,994]
                expr [971,993]
                    call [971,993]
                        name: posix_acl_release [971,988]
                        argument_list [988,993]
                            argument [989,992]
                                expr [989,992]
                                    name: acl [989,992]
            return [996,1020]
                expr [1003,1019]
                    call [1003,1019]
                        name: ERR_PTR [1003,1010]
                        argument_list [1010,1019]
                            argument [1011,1018]
                                expr [1011,1018]
                                    operator: - [1011,1012]
                                    name: EINVAL [1012,1018]