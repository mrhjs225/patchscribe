unit [0,0]
    function [0,582]
        type [0,10]
            specifier: static [0,6]
            name: int [7,10]
        name: bson_append_estart [11,29]
        parameter_list [29,88]
            parameter [31,38]
                decl [31,38]
                    type [31,38]
                        name: bson [31,35]
                        modifier: * [36,37]
                    name: b [37,38]
            parameter [40,48]
                decl [40,48]
                    type [40,48]
                        name: int [40,43]
                    name: type [44,48]
            parameter [50,66]
                decl [50,66]
                    type [50,66]
                        specifier: const [50,55]
                        name: char [56,60]
                        modifier: * [61,62]
                    name: name [62,66]
            parameter [68,86]
                decl [68,86]
                    type [68,86]
                        specifier: const [68,73]
                        name: int [74,77]
                    name: dataSize [78,86]
        block [89,582]
            block_content [95,580]
                decl_stmt [95,130]
                    decl [95,129]
                        type [95,104]
                            specifier: const [95,100]
                            name: int [101,104]
                        name: len [105,108]
                        init [109,129]
                            expr [111,129]
                                call [111,125]
                                    name: strlen [111,117]
                                    argument_list [117,125]
                                        argument [119,123]
                                            expr [119,123]
                                                name: name [119,123]
                                operator: + [126,127]
                                literal: 1 [128,129]
                if_stmt [136,230]
                    if [136,230]
                        condition [139,154]
                            expr [141,152]
                                name [141,152]
                                    name: b [141,142]
                                    operator: -> [142,144]
                                    name: finished [144,152]
                        block [155,230]
                            block_content [165,224]
                                expr_stmt [165,197]
                                    expr [165,196]
                                        name [165,171]
                                            name: b [165,166]
                                            operator: -> [166,168]
                                            name: err [168,171]
                                        operator: |= [172,174]
                                        name: BSON_ALREADY_FINISHED [175,196]
                                return [206,224]
                                    expr [213,223]
                                        name: BSON_ERROR [213,223]
                if_stmt [236,334]
                    if [236,334]
                        condition [239,299]
                            expr [241,297]
                                call [241,283]
                                    name: bson_ensure_space [241,258]
                                    argument_list [258,283]
                                        argument [260,261]
                                            expr [260,261]
                                                name: b [260,261]
                                        argument [263,281]
                                            expr [263,281]
                                                literal: 1 [263,266]
                                                operator: + [265,266]
                                                name: len [267,270]
                                                operator: + [271,272]
                                                name: dataSize [273,281]
                                operator: == [284,286]
                                name: BSON_ERROR [287,297]
                        block [300,334]
                            block_content [310,328]
                                return [310,328]
                                    expr [317,327]
                                        name: BSON_ERROR [317,327]
                if_stmt [340,485]
                    if [340,485]
                        condition [342,417]
                            expr [344,415]
                                call [344,401]
                                    name: bson_check_field_name [344,365]
                                    argument_list [365,401]
                                        argument [367,368]
                                            expr [367,368]
                                                name: b [367,368]
                                        argument [370,390]
                                            expr [370,390]
                                                operator: ( [370,371]
                                                specifier: const [372,377]
                                                name: char [378,382]
                                                operator: * [383,384]
                                                operator: ) [385,386]
                                                name: name [386,390]
                                        argument [392,399]
                                            expr [392,399]
                                                name: len [392,395]
                                                operator: - [396,397]
                                                literal: 1 [398,399]
                                operator: == [402,404]
                                name: BSON_ERROR [405,415]
                        block [418,485]
                            block_content [428,479]
                                expr_stmt [428,452]
                                    expr [428,451]
                                        call [428,451]
                                            name: bson_builder_error [428,446]
                                            argument_list [446,451]
                                                argument [448,449]
                                                    expr [448,449]
                                                        name: b [448,449]
                                return [461,479]
                                    expr [468,478]
                                        name: BSON_ERROR [468,478]
                expr_stmt [491,527]
                    expr [491,526]
                        call [491,526]
                            name: bson_append_byte [491,507]
                            argument_list [507,526]
                                argument [509,510]
                                    expr [509,510]
                                        name: b [509,510]
                                argument [512,524]
                                    expr [512,524]
                                        operator: ( [512,513]
                                        name: char [514,518]
                                        operator: ) [519,520]
                                        name: type [520,524]
                expr_stmt [532,560]
                    expr [532,559]
                        call [532,559]
                            name: bson_append [532,543]
                            argument_list [543,559]
                                argument [545,546]
                                    expr [545,546]
                                        name: b [545,546]
                                argument [548,552]
                                    expr [548,552]
                                        name: name [548,552]
                                argument [554,557]
                                    expr [554,557]
                                        name: len [554,557]
                return [565,580]
                    expr [572,579]
                        name: BSON_OK [572,579]