unit [0,0]
    function [0,3860]
        type [0,10]
            specifier: static [0,6]
            name: int [7,10]
        name: __rds_rdma_map [11,25]
        parameter_list [25,121]
            parameter [26,45]
                decl [26,45]
                    type [26,45]
                        name [26,41]
                            name: struct [26,32]
                            name: rds_sock [33,41]
                        modifier: * [42,43]
                    name: rs [43,45]
            parameter [47,75]
                decl [47,75]
                    type [47,75]
                        name [47,69]
                            name: struct [47,53]
                            name: rds_get_mr_args [54,69]
                        modifier: * [70,71]
                    name: args [71,75]
            parameter [81,96]
                decl [81,96]
                    type [81,96]
                        name: u64 [81,84]
                        modifier: * [85,86]
                    name: cookie_ret [86,96]
            parameter [98,120]
                decl [98,120]
                    type [98,120]
                        name [98,111]
                            name: struct [98,104]
                            name: rds_mr [105,111]
                        modifier: * [112,113]
                        modifier: * [113,114]
                    name: mr_ret [114,120]
        block [122,3860]
            block_content [125,3858]
                decl_stmt [125,158]
                    decl [125,149]
                        type [125,140]
                            name [125,138]
                                name: struct [125,131]
                                name: rds_mr [132,138]
                            modifier: * [139,140]
                        name: mr [140,142]
                        init [143,149]
                            expr [145,149]
                                name: NULL [145,149]
                    decl [151,157]
                        type [125,140]
                            modifier: * [151,152]
                        name: found [152,157]
                decl_stmt [160,182]
                    decl [160,181]
                        type [160,172]
                            name: unsigned [160,168]
                            name: int [169,172]
                        name: nr_pages [173,181]
                decl_stmt [184,211]
                    decl [184,210]
                        type [184,198]
                            name [184,195]
                                name: struct [184,190]
                                name: page [191,195]
                            modifier: * [196,197]
                            modifier: * [197,198]
                        name: pages [198,203]
                        init [204,210]
                            expr [206,210]
                                name: NULL [206,210]
                decl_stmt [213,236]
                    decl [213,235]
                        type [213,233]
                            name [213,231]
                                name: struct [213,219]
                                name: scatterlist [220,231]
                            modifier: * [232,233]
                        name: sg [233,235]
                decl_stmt [238,258]
                    decl [238,257]
                        type [238,244]
                            name: void [238,242]
                            modifier: * [243,244]
                        name: trans_private [244,257]
                decl_stmt [260,280]
                    decl [260,279]
                        type [260,273]
                            name: unsigned [260,268]
                            name: long [269,273]
                        name: flags [274,279]
                decl_stmt [282,307]
                    decl [282,306]
                        type [282,299]
                            name: rds_rdma_cookie_t [282,299]
                        name: cookie [300,306]
                decl_stmt [309,328]
                    decl [309,327]
                        type [309,321]
                            name: unsigned [309,317]
                            name: int [318,321]
                        name: nents [322,327]
                decl_stmt [330,337]
                    decl [330,336]
                        type [330,334]
                            name: long [330,334]
                        name: i [335,336]
                decl_stmt [339,347]
                    decl [339,346]
                        type [339,342]
                            name: int [339,342]
                        name: ret [343,346]
                if_stmt [350,441]
                    if [350,441]
                        condition [353,377]
                            expr [354,376]
                                name [354,371]
                                    name: rs [354,356]
                                    operator: -> [356,358]
                                    name: rs_bound_addr [358,371]
                                operator: == [372,374]
                                literal: 0 [375,376]
                        block [378,441]
                            block_content [382,438]
                                expr_stmt [382,398]
                                    expr [382,397]
                                        name: ret [382,385]
                                        operator: = [386,387]
                                        operator: - [388,389]
                                        name: ENOTCONN [389,397]
                                comment: /* XXX not a great errno */ [399,426]
                                goto [429,438]
                                    name: out [434,437]
                if_stmt [444,512]
                    if [444,512]
                        condition [447,474]
                            expr [448,473]
                                operator: ! [448,449]
                                name [449,473]
                                    name: rs [449,451]
                                    operator: -> [451,453]
                                    name: rs_transport [453,465]
                                    operator: -> [465,467]
                                    name: get_mr [467,473]
                        block [475,512]
                            block_content [479,509]
                                expr_stmt [479,497]
                                    expr [479,496]
                                        name: ret [479,482]
                                        operator: = [483,484]
                                        operator: - [485,486]
                                        name: EOPNOTSUPP [486,496]
                                goto [500,509]
                                    name: out [505,508]
                expr_stmt [515,555]
                    expr [515,554]
                        name: nr_pages [515,523]
                        operator: = [524,525]
                        call [526,554]
                            name: rds_pages_in_vec [526,542]
                            argument_list [542,554]
                                argument [543,553]
                                    expr [543,553]
                                        operator: & [543,544]
                                        name [544,553]
                                            name: args [544,548]
                                            operator: -> [548,550]
                                            name: vec [550,553]
                if_stmt [557,609]
                    if [557,609]
                        condition [560,575]
                            expr [561,574]
                                name: nr_pages [561,569]
                                operator: == [570,572]
                                literal: 0 [573,574]
                        block [576,609]
                            block_content [580,606]
                                expr_stmt [580,594]
                                    expr [580,593]
                                        name: ret [580,583]
                                        operator: = [584,585]
                                        operator: - [586,587]
                                        name: EINVAL [587,593]
                                goto [597,606]
                                    name: out [602,605]
                comment: /* Restrict the size of mr irrespective of underlying transport
	 * To account for unaligned mr regions, subtract one from nr_pages*/ [612,755]
                if_stmt [750,840]
                    if [750,840]
                        condition [753,804]
                            expr [754,803]
                                operator: ( [754,755]
                                name: nr_pages [755,763]
                                operator: - [764,765]
                                literal: 1 [766,767]
                                operator: ) [767,768]
                                operator: > [769,770]
                                operator: ( [771,772]
                                name: RDS_MAX_MSG_SIZE [772,788]
                                operator: >> [789,791]
                                name: PAGE_SHIFT [792,802]
                                operator: ) [802,803]
                        block [805,840]
                            block_content [809,837]
                                expr_stmt [809,825]
                                    expr [809,824]
                                        name: ret [809,812]
                                        operator: = [813,814]
                                        operator: - [815,816]
                                        name: EMSGSIZE [816,824]
                                goto [828,837]
                                    name: out [833,836]
                expr_stmt [843,945]
                    expr [843,944]
                        call [843,944]
                            name: rdsdebug [843,851]
                            argument_list [851,944]
                                argument [852,898]
                                    expr [852,898]
                                        literal: "RDS: get_mr addr %llx len %llu nr_pages %u\n" [852,898]
                                argument [902,916]
                                    expr [902,916]
                                        name [902,916]
                                            name: args [902,906]
                                            operator: -> [906,908]
                                            name: vec [908,911]
                                            operator: . [911,912]
                                            name: addr [912,916]
                                argument [918,933]
                                    expr [918,933]
                                        name [918,933]
                                            name: args [918,922]
                                            operator: -> [922,924]
                                            name: vec [924,927]
                                            operator: . [927,928]
                                            name: bytes [928,933]
                                argument [935,943]
                                    expr [935,943]
                                        name: nr_pages [935,943]
                comment: /* XXX clamp nr_pages to limit the size of this alloc? */ [948,1005]
                expr_stmt [1007,1068]
                    expr [1007,1067]
                        name: pages [1007,1012]
                        operator: = [1013,1014]
                        call [1015,1067]
                            name: kcalloc [1015,1022]
                            argument_list [1022,1067]
                                argument [1023,1031]
                                    expr [1023,1031]
                                        name: nr_pages [1023,1031]
                                argument [1033,1054]
                                    expr [1033,1054]
                                        sizeof [1033,1054]
                                            argument_list [1039,1054]
                                                argument [1040,1053]
                                                    expr [1040,1053]
                                                        name: page [1047,1051]
                                                        operator: * [1052,1053]
                                argument [1056,1066]
                                    expr [1056,1066]
                                        name: GFP_KERNEL [1056,1066]
                if_stmt [1070,1115]
                    if [1070,1115]
                        condition [1073,1081]
                            expr [1074,1080]
                                operator: ! [1074,1075]
                                name: pages [1075,1080]
                        block [1082,1115]
                            block_content [1086,1112]
                                expr_stmt [1086,1100]
                                    expr [1086,1099]
                                        name: ret [1086,1089]
                                        operator: = [1090,1091]
                                        operator: - [1092,1093]
                                        name: ENOMEM [1093,1099]
                                goto [1103,1112]
                                    name: out [1108,1111]
                expr_stmt [1118,1166]
                    expr [1118,1165]
                        name: mr [1118,1120]
                        operator: = [1121,1122]
                        call [1123,1165]
                            name: kzalloc [1123,1130]
                            argument_list [1130,1165]
                                argument [1131,1152]
                                    expr [1131,1152]
                                        sizeof [1131,1152]
                                            argument_list [1137,1152]
                                                argument [1138,1151]
                                                    expr [1138,1151]
                                                        name: rds_mr [1145,1151]
                                argument [1154,1164]
                                    expr [1154,1164]
                                        name: GFP_KERNEL [1154,1164]
                if_stmt [1168,1210]
                    if [1168,1210]
                        condition [1171,1176]
                            expr [1172,1175]
                                operator: ! [1172,1173]
                                name: mr [1173,1175]
                        block [1177,1210]
                            block_content [1181,1207]
                                expr_stmt [1181,1195]
                                    expr [1181,1194]
                                        name: ret [1181,1184]
                                        operator: = [1185,1186]
                                        operator: - [1187,1188]
                                        name: ENOMEM [1188,1194]
                                goto [1198,1207]
                                    name: out [1203,1206]
                expr_stmt [1213,1246]
                    expr [1213,1245]
                        call [1213,1245]
                            name: refcount_set [1213,1225]
                            argument_list [1225,1245]
                                argument [1226,1241]
                                    expr [1226,1241]
                                        operator: & [1226,1227]
                                        name [1227,1241]
                                            name: mr [1227,1229]
                                            operator: -> [1229,1231]
                                            name: r_refcount [1231,1241]
                                argument [1243,1244]
                                    expr [1243,1244]
                                        literal: 1 [1243,1244]
                expr_stmt [1248,1278]
                    expr [1248,1277]
                        call [1248,1277]
                            name: RB_CLEAR_NODE [1248,1261]
                            argument_list [1261,1277]
                                argument [1262,1276]
                                    expr [1262,1276]
                                        operator: & [1262,1263]
                                        name [1263,1276]
                                            name: mr [1263,1265]
                                            operator: -> [1265,1267]
                                            name: r_rb_node [1267,1276]
                expr_stmt [1280,1311]
                    expr [1280,1310]
                        name [1280,1291]
                            name: mr [1280,1282]
                            operator: -> [1282,1284]
                            name: r_trans [1284,1291]
                        operator: = [1292,1293]
                        name [1294,1310]
                            name: rs [1294,1296]
                            operator: -> [1296,1298]
                            name: rs_transport [1298,1310]
                expr_stmt [1313,1329]
                    expr [1313,1328]
                        name [1313,1323]
                            name: mr [1313,1315]
                            operator: -> [1315,1317]
                            name: r_sock [1317,1323]
                        operator: = [1324,1325]
                        name: rs [1326,1328]
                if_stmt [1332,1390]
                    if [1332,1390]
                        condition [1335,1368]
                            expr [1336,1367]
                                name [1336,1347]
                                    name: args [1336,1340]
                                    operator: -> [1340,1342]
                                    name: flags [1342,1347]
                                operator: & [1348,1349]
                                name: RDS_RDMA_USE_ONCE [1350,1367]
                        block [1371,1390]
                            block_content [1371,1390]
                                expr_stmt [1371,1390]
                                    expr [1371,1389]
                                        name [1371,1385]
                                            name: mr [1371,1373]
                                            operator: -> [1373,1375]
                                            name: r_use_once [1375,1385]
                                        operator: = [1386,1387]
                                        literal: 1 [1388,1389]
                if_stmt [1392,1454]
                    if [1392,1454]
                        condition [1395,1430]
                            expr [1396,1429]
                                name [1396,1407]
                                    name: args [1396,1400]
                                    operator: -> [1400,1402]
                                    name: flags [1402,1407]
                                operator: & [1408,1409]
                                name: RDS_RDMA_INVALIDATE [1410,1429]
                        block [1433,1454]
                            block_content [1433,1454]
                                expr_stmt [1433,1454]
                                    expr [1433,1453]
                                        name [1433,1449]
                                            name: mr [1433,1435]
                                            operator: -> [1435,1437]
                                            name: r_invalidate [1437,1449]
                                        operator: = [1450,1451]
                                        literal: 1 [1452,1453]
                if_stmt [1456,1512]
                    if [1456,1512]
                        condition [1459,1493]
                            expr [1460,1492]
                                name [1460,1471]
                                    name: args [1460,1464]
                                    operator: -> [1464,1466]
                                    name: flags [1466,1471]
                                operator: & [1472,1473]
                                name: RDS_RDMA_READWRITE [1474,1492]
                        block [1496,1512]
                            block_content [1496,1512]
                                expr_stmt [1496,1512]
                                    expr [1496,1511]
                                        name [1496,1507]
                                            name: mr [1496,1498]
                                            operator: -> [1498,1500]
                                            name: r_write [1500,1507]
                                        operator: = [1508,1509]
                                        literal: 1 [1510,1511]
                comment: /*
	 * Pin the pages that make up the user buffer and transfer the page* pointers to the mr's sg array.  We check to see if we've mapped
	 * the whole region after transferring the partial page references* to the sg array so that we can have one page ref cleanup path.
	 ** For now we have no flag that tells us whether the mapping is
	 * r/o or r/w. We need to assume r/w, or we'll do a lot of RDMA to* the zero page.
	 */ [1515,1957]
                expr_stmt [1952,2008]
                    expr [1952,2007]
                        name: ret [1952,1955]
                        operator: = [1956,1957]
                        call [1958,2007]
                            name: rds_pin_pages [1958,1971]
                            argument_list [1971,2007]
                                argument [1972,1986]
                                    expr [1972,1986]
                                        name [1972,1986]
                                            name: args [1972,1976]
                                            operator: -> [1976,1978]
                                            name: vec [1978,1981]
                                            operator: . [1981,1982]
                                            name: addr [1982,1986]
                                argument [1988,1996]
                                    expr [1988,1996]
                                        name: nr_pages [1988,1996]
                                argument [1998,2003]
                                    expr [1998,2003]
                                        name: pages [1998,2003]
                                argument [2005,2006]
                                    expr [2005,2006]
                                        literal: 1 [2005,2006]
                if_stmt [2010,2034]
                    if [2010,2034]
                        condition [2013,2022]
                            expr [2014,2021]
                                name: ret [2014,2017]
                                operator: < [2018,2019]
                                literal: 0 [2020,2021]
                        block [2025,2034]
                            block_content [2025,2034]
                                goto [2025,2034]
                                    name: out [2030,2033]
                expr_stmt [2037,2049]
                    expr [2037,2048]
                        name: nents [2037,2042]
                        operator: = [2043,2044]
                        name: ret [2045,2048]
                expr_stmt [2051,2096]
                    expr [2051,2095]
                        name: sg [2051,2053]
                        operator: = [2054,2055]
                        call [2056,2095]
                            name: kcalloc [2056,2063]
                            argument_list [2063,2095]
                                argument [2064,2069]
                                    expr [2064,2069]
                                        name: nents [2064,2069]
                                argument [2071,2082]
                                    expr [2071,2082]
                                        sizeof [2071,2082]
                                            argument_list [2077,2082]
                                                argument [2078,2081]
                                                    expr [2078,2081]
                                                        operator: * [2078,2079]
                                                        name: sg [2079,2081]
                                argument [2084,2094]
                                    expr [2084,2094]
                                        name: GFP_KERNEL [2084,2094]
                if_stmt [2098,2140]
                    if [2098,2140]
                        condition [2101,2106]
                            expr [2102,2105]
                                operator: ! [2102,2103]
                                name: sg [2103,2105]
                        block [2107,2140]
                            block_content [2111,2137]
                                expr_stmt [2111,2125]
                                    expr [2111,2124]
                                        name: ret [2111,2114]
                                        operator: = [2115,2116]
                                        operator: - [2117,2118]
                                        name: ENOMEM [2118,2124]
                                goto [2128,2137]
                                    name: out [2133,2136]
                expr_stmt [2142,2158]
                    expr [2142,2157]
                        call [2142,2157]
                            name: WARN_ON [2142,2149]
                            argument_list [2149,2157]
                                argument [2150,2156]
                                    expr [2150,2156]
                                        operator: ! [2150,2151]
                                        name: nents [2151,2156]
                expr_stmt [2160,2185]
                    expr [2160,2184]
                        call [2160,2184]
                            name: sg_init_table [2160,2173]
                            argument_list [2173,2184]
                                argument [2174,2176]
                                    expr [2174,2176]
                                        name: sg [2174,2176]
                                argument [2178,2183]
                                    expr [2178,2183]
                                        name: nents [2178,2183]
                comment: /* Stick all pages into the scatterlist */ [2188,2230]
                for [2232,2307]
                    control [2236,2260]
                        init [2237,2244]
                            expr [2237,2242]
                                name: i [2237,2238]
                                operator: = [2239,2240]
                                literal: 0 [2241,2242]
                        condition [2245,2255]
                            expr [2245,2254]
                                name: i [2245,2246]
                                operator: < [2247,2248]
                                name: nents [2249,2254]
                        incr [2256,2259]
                            expr [2256,2259]
                                name: i [2256,2257]
                                operator: ++ [2257,2259]
                    block [2263,2307]
                        block_content [2263,2307]
                            expr_stmt [2263,2307]
                                expr [2263,2306]
                                    call [2263,2306]
                                        name: sg_set_page [2263,2274]
                                        argument_list [2274,2306]
                                            argument [2275,2281]
                                                expr [2275,2281]
                                                    operator: & [2275,2276]
                                                    name [2276,2281]
                                                        name: sg [2276,2278]
                                                        index [2278,2281]
                                                            expr [2279,2280]
                                                                name: i [2279,2280]
                                            argument [2283,2291]
                                                expr [2283,2291]
                                                    name [2283,2291]
                                                        name: pages [2283,2288]
                                                        index [2288,2291]
                                                            expr [2289,2290]
                                                                name: i [2289,2290]
                                            argument [2293,2302]
                                                expr [2293,2302]
                                                    name: PAGE_SIZE [2293,2302]
                                            argument [2304,2305]
                                                expr [2304,2305]
                                                    literal: 0 [2304,2305]
                expr_stmt [2310,2362]
                    expr [2310,2361]
                        call [2310,2361]
                            name: rdsdebug [2310,2318]
                            argument_list [2318,2361]
                                argument [2319,2353]
                                    expr [2319,2353]
                                        literal: "RDS: trans_private nents is %u\n" [2319,2353]
                                argument [2355,2360]
                                    expr [2355,2360]
                                        name: nents [2355,2360]
                comment: /* Obtain a transport specific MR. If this succeeds, the
	 * s/g list is now owned by the MR.* Note that dma_map() implies that pending writes are
	 * flushed to RAM, so no dma_sync is needed here. */ [2365,2575]
                expr_stmt [2570,2645]
                    expr [2570,2644]
                        name: trans_private [2570,2583]
                        operator: = [2584,2585]
                        call [2586,2644]
                            name [2586,2610]
                                name: rs [2586,2588]
                                operator: -> [2588,2590]
                                name: rs_transport [2590,2602]
                                operator: -> [2602,2604]
                                name: get_mr [2604,2610]
                            argument_list [2610,2644]
                                argument [2611,2613]
                                    expr [2611,2613]
                                        name: sg [2611,2613]
                                argument [2615,2620]
                                    expr [2615,2620]
                                        name: nents [2615,2620]
                                argument [2622,2624]
                                    expr [2622,2624]
                                        name: rs [2622,2624]
                                argument [2633,2643]
                                    expr [2633,2643]
                                        operator: & [2633,2634]
                                        name [2634,2643]
                                            name: mr [2634,2636]
                                            operator: -> [2636,2638]
                                            name: r_key [2638,2643]
                if_stmt [2648,2797]
                    if [2648,2797]
                        condition [2651,2674]
                            expr [2652,2673]
                                call [2652,2673]
                                    name: IS_ERR [2652,2658]
                                    argument_list [2658,2673]
                                        argument [2659,2672]
                                            expr [2659,2672]
                                                name: trans_private [2659,2672]
                        block [2675,2797]
                            block_content [2679,2794]
                                for [2679,2737]
                                    control [2683,2707]
                                        init [2684,2691]
                                            expr [2684,2689]
                                                name: i [2684,2685]
                                                operator: = [2686,2687]
                                                literal: 0 [2688,2689]
                                        condition [2692,2702]
                                            expr [2692,2701]
                                                name: i [2692,2693]
                                                operator: < [2694,2695]
                                                name: nents [2696,2701]
                                        incr [2703,2706]
                                            expr [2703,2706]
                                                name: i [2703,2704]
                                                operator: ++ [2704,2706]
                                    block [2711,2737]
                                        block_content [2711,2737]
                                            expr_stmt [2711,2737]
                                                expr [2711,2736]
                                                    call [2711,2736]
                                                        name: put_page [2711,2719]
                                                        argument_list [2719,2736]
                                                            argument [2720,2735]
                                                                expr [2720,2735]
                                                                    call [2720,2735]
                                                                        name: sg_page [2720,2727]
                                                                        argument_list [2727,2735]
                                                                            argument [2728,2734]
                                                                                expr [2728,2734]
                                                                                    operator: & [2728,2729]
                                                                                    name [2729,2734]
                                                                                        name: sg [2729,2731]
                                                                                        index [2731,2734]
                                                                                            expr [2732,2733]
                                                                                                name: i [2732,2733]
                                expr_stmt [2740,2750]
                                    expr [2740,2749]
                                        call [2740,2749]
                                            name: kfree [2740,2745]
                                            argument_list [2745,2749]
                                                argument [2746,2748]
                                                    expr [2746,2748]
                                                        name: sg [2746,2748]
                                expr_stmt [2753,2782]
                                    expr [2753,2781]
                                        name: ret [2753,2756]
                                        operator: = [2757,2758]
                                        call [2759,2781]
                                            name: PTR_ERR [2759,2766]
                                            argument_list [2766,2781]
                                                argument [2767,2780]
                                                    expr [2767,2780]
                                                        name: trans_private [2767,2780]
                                goto [2785,2794]
                                    name: out [2790,2793]
                expr_stmt [2800,2836]
                    expr [2800,2835]
                        name [2800,2819]
                            name: mr [2800,2802]
                            operator: -> [2802,2804]
                            name: r_trans_private [2804,2819]
                        operator: = [2820,2821]
                        name: trans_private [2822,2835]
                expr_stmt [2839,2961]
                    expr [2839,2960]
                        call [2839,2960]
                            name: rdsdebug [2839,2847]
                            argument_list [2847,2960]
                                argument [2848,2897]
                                    expr [2848,2897]
                                        literal: "RDS: get_mr put_user key is %x cookie_addr %p\n" [2848,2897]
                                argument [2907,2916]
                                    expr [2907,2916]
                                        name [2907,2916]
                                            name: mr [2907,2909]
                                            operator: -> [2909,2911]
                                            name: r_key [2911,2916]
                                argument [2918,2959]
                                    expr [2918,2959]
                                        operator: ( [2918,2919]
                                        name: void [2919,2923]
                                        operator: * [2924,2925]
                                        operator: ) [2925,2926]
                                        operator: ( [2926,2927]
                                        name: unsigned [2927,2935]
                                        name: long [2936,2940]
                                        operator: ) [2940,2941]
                                        name [2942,2959]
                                            name: args [2942,2946]
                                            operator: -> [2946,2948]
                                            name: cookie_addr [2948,2959]
                comment: /* The user may pass us an unaligned address, but we can only
	 * map page aligned regions. So we keep the offset, and build* a 64bit cookie containing<R_Key, offset>and pass that
	 * around. */ [2964,3170]
                expr_stmt [3165,3235]
                    expr [3165,3234]
                        name: cookie [3165,3171]
                        operator: = [3172,3173]
                        call [3174,3234]
                            name: rds_rdma_make_cookie [3174,3194]
                            argument_list [3194,3234]
                                argument [3195,3204]
                                    expr [3195,3204]
                                        name [3195,3204]
                                            name: mr [3195,3197]
                                            operator: -> [3197,3199]
                                            name: r_key [3199,3204]
                                argument [3206,3233]
                                    expr [3206,3233]
                                        name [3206,3220]
                                            name: args [3206,3210]
                                            operator: -> [3210,3212]
                                            name: vec [3212,3215]
                                            operator: . [3215,3216]
                                            name: addr [3216,3220]
                                        operator: & [3221,3222]
                                        operator: ~ [3223,3224]
                                        name: PAGE_MASK [3224,3233]
                if_stmt [3237,3276]
                    if [3237,3276]
                        condition [3240,3252]
                            expr [3241,3251]
                                name: cookie_ret [3241,3251]
                        block [3255,3276]
                            block_content [3255,3276]
                                expr_stmt [3255,3276]
                                    expr [3255,3275]
                                        operator: * [3255,3256]
                                        name: cookie_ret [3256,3266]
                                        operator: = [3267,3268]
                                        name: cookie [3269,3275]
                if_stmt [3279,3404]
                    if [3279,3404]
                        condition [3282,3370]
                            expr [3283,3369]
                                name [3283,3300]
                                    name: args [3283,3287]
                                    operator: -> [3287,3289]
                                    name: cookie_addr [3289,3300]
                                operator: && [3301,3303]
                                call [3304,3369]
                                    name: put_user [3304,3312]
                                    argument_list [3312,3369]
                                        argument [3313,3319]
                                            expr [3313,3319]
                                                name: cookie [3313,3319]
                                        argument [3321,3368]
                                            expr [3321,3368]
                                                operator: ( [3321,3322]
                                                name: u64 [3322,3325]
                                                name: __user [3326,3332]
                                                operator: * [3333,3334]
                                                operator: ) [3334,3335]
                                                operator: ( [3335,3336]
                                                name: unsigned [3336,3344]
                                                name: long [3345,3349]
                                                operator: ) [3349,3350]
                                                name [3351,3368]
                                                    name: args [3351,3355]
                                                    operator: -> [3355,3357]
                                                    name: cookie_addr [3357,3368]
                        block [3371,3404]
                            block_content [3375,3401]
                                expr_stmt [3375,3389]
                                    expr [3375,3388]
                                        name: ret [3375,3378]
                                        operator: = [3379,3380]
                                        operator: - [3381,3382]
                                        name: EFAULT [3382,3388]
                                goto [3392,3401]
                                    name: out [3397,3400]
                comment: /* Inserting the new MR into the rbtree bumps its
	 * reference count. */ [3407,3487]
                expr_stmt [3482,3526]
                    expr [3482,3525]
                        call [3482,3525]
                            name: spin_lock_irqsave [3482,3499]
                            argument_list [3499,3525]
                                argument [3500,3517]
                                    expr [3500,3517]
                                        operator: & [3500,3501]
                                        name [3501,3517]
                                            name: rs [3501,3503]
                                            operator: -> [3503,3505]
                                            name: rs_rdma_lock [3505,3517]
                                argument [3519,3524]
                                    expr [3519,3524]
                                        name: flags [3519,3524]
                expr_stmt [3528,3587]
                    expr [3528,3586]
                        name: found [3528,3533]
                        operator: = [3534,3535]
                        call [3536,3586]
                            name: rds_mr_tree_walk [3536,3552]
                            argument_list [3552,3586]
                                argument [3553,3570]
                                    expr [3553,3570]
                                        operator: & [3553,3554]
                                        name [3554,3570]
                                            name: rs [3554,3556]
                                            operator: -> [3556,3558]
                                            name: rs_rdma_keys [3558,3570]
                                argument [3572,3581]
                                    expr [3572,3581]
                                        name [3572,3581]
                                            name: mr [3572,3574]
                                            operator: -> [3574,3576]
                                            name: r_key [3576,3581]
                                argument [3583,3585]
                                    expr [3583,3585]
                                        name: mr [3583,3585]
                expr_stmt [3589,3638]
                    expr [3589,3637]
                        call [3589,3637]
                            name: spin_unlock_irqrestore [3589,3611]
                            argument_list [3611,3637]
                                argument [3612,3629]
                                    expr [3612,3629]
                                        operator: & [3612,3613]
                                        name [3613,3629]
                                            name: rs [3613,3615]
                                            operator: -> [3615,3617]
                                            name: rs_rdma_lock [3617,3629]
                                argument [3631,3636]
                                    expr [3631,3636]
                                        name: flags [3631,3636]
                expr_stmt [3641,3670]
                    expr [3641,3669]
                        call [3641,3669]
                            name: BUG_ON [3641,3647]
                            argument_list [3647,3669]
                                argument [3648,3668]
                                    expr [3648,3668]
                                        name: found [3648,3653]
                                        operator: && [3654,3656]
                                        name: found [3657,3662]
                                        operator: != [3663,3665]
                                        name: mr [3666,3668]
                expr_stmt [3673,3720]
                    expr [3673,3719]
                        call [3673,3719]
                            name: rdsdebug [3673,3681]
                            argument_list [3681,3719]
                                argument [3682,3707]
                                    expr [3682,3707]
                                        literal: "RDS: get_mr key is %x\n" [3682,3707]
                                argument [3709,3718]
                                    expr [3709,3718]
                                        name [3709,3718]
                                            name: mr [3709,3711]
                                            operator: -> [3711,3713]
                                            name: r_key [3713,3718]
                if_stmt [3722,3787]
                    if [3722,3787]
                        condition [3725,3733]
                            expr [3726,3732]
                                name: mr_ret [3726,3732]
                        block [3734,3787]
                            block_content [3738,3784]
                                expr_stmt [3738,3768]
                                    expr [3738,3767]
                                        call [3738,3767]
                                            name: refcount_inc [3738,3750]
                                            argument_list [3750,3767]
                                                argument [3751,3766]
                                                    expr [3751,3766]
                                                        operator: & [3751,3752]
                                                        name [3752,3766]
                                                            name: mr [3752,3754]
                                                            operator: -> [3754,3756]
                                                            name: r_refcount [3756,3766]
                                expr_stmt [3771,3784]
                                    expr [3771,3783]
                                        operator: * [3771,3772]
                                        name: mr_ret [3772,3778]
                                        operator: = [3779,3780]
                                        name: mr [3781,3783]
                expr_stmt [3790,3798]
                    expr [3790,3797]
                        name: ret [3790,3793]
                        operator: = [3794,3795]
                        literal: 0 [3796,3797]
                label [3799,3803]
                    name: out [3799,3802]
                expr_stmt [3805,3818]
                    expr [3805,3817]
                        call [3805,3817]
                            name: kfree [3805,3810]
                            argument_list [3810,3817]
                                argument [3811,3816]
                                    expr [3811,3816]
                                        name: pages [3811,3816]
                if_stmt [3820,3845]
                    if [3820,3845]
                        condition [3823,3827]
                            expr [3824,3826]
                                name: mr [3824,3826]
                        block [3830,3845]
                            block_content [3830,3845]
                                expr_stmt [3830,3845]
                                    expr [3830,3844]
                                        call [3830,3844]
                                            name: rds_mr_put [3830,3840]
                                            argument_list [3840,3844]
                                                argument [3841,3843]
                                                    expr [3841,3843]
                                                        name: mr [3841,3843]
                return [3847,3858]
                    expr [3854,3857]
                        name: ret [3854,3857]