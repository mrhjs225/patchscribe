unit [0,0]
    function [0,566]
        type [0,3]
            name: int [0,3]
        name: read_file [4,13]
        parameter_list [13,91]
            parameter [14,34]
                decl [14,34]
                    type [14,34]
                        name [14,28]
                            name: struct [14,20]
                            name: sc_card [21,28]
                        modifier: * [29,30]
                    name: card [30,34]
            parameter [36,50]
                decl [36,50]
                    type [36,50]
                        name: char [36,40]
                        modifier: * [41,42]
                    name: str_path [42,50]
            parameter [52,72]
                decl [52,72]
                    type [52,72]
                        name: unsigned [52,60]
                        name: char [61,65]
                        modifier: * [66,67]
                        modifier: * [67,68]
                    name: data [68,72]
            parameter [74,90]
                decl [74,90]
                    type [74,90]
                        name: size_t [74,80]
                        modifier: * [81,82]
                    name: data_len [82,90]
        block [92,566]
            block_content [95,564]
                decl_stmt [95,115]
                    decl [95,114]
                        type [95,109]
                            name [95,109]
                                name: struct [95,101]
                                name: sc_path [102,109]
                        name: path [110,114]
                decl_stmt [117,138]
                    decl [117,137]
                        type [117,133]
                            name [117,131]
                                name: struct [117,123]
                                name: sc_file [124,131]
                            modifier: * [132,133]
                        name: file [133,137]
                decl_stmt [140,157]
                    decl [140,156]
                        type [140,155]
                            name: unsigned [140,148]
                            name: char [149,153]
                            modifier: * [154,155]
                        name: p [155,156]
                decl_stmt [159,170]
                    decl [159,169]
                        type [159,162]
                            name: int [159,162]
                        name: ok [163,165]
                        init [166,169]
                            expr [168,169]
                                literal: 0 [168,169]
                decl_stmt [172,178]
                    decl [172,177]
                        type [172,175]
                            name: int [172,175]
                        name: r [176,177]
                decl_stmt [180,191]
                    decl [180,190]
                        type [180,186]
                            name: size_t [180,186]
                        name: len [187,190]
                expr_stmt [194,226]
                    expr [194,225]
                        call [194,225]
                            name: sc_format_path [194,208]
                            argument_list [208,225]
                                argument [209,217]
                                    expr [209,217]
                                        name: str_path [209,217]
                                argument [219,224]
                                    expr [219,224]
                                        operator: & [219,220]
                                        name: path [220,224]
                if_stmt [228,298]
                    if [228,298]
                        condition [231,281]
                            expr [232,280]
                                name: SC_SUCCESS [232,242]
                                operator: != [243,245]
                                call [246,280]
                                    name: sc_select_file [246,260]
                                    argument_list [260,280]
                                        argument [261,265]
                                            expr [261,265]
                                                name: card [261,265]
                                        argument [267,272]
                                            expr [267,272]
                                                operator: & [267,268]
                                                name: path [268,272]
                                        argument [274,279]
                                            expr [274,279]
                                                operator: & [274,275]
                                                name: file [275,279]
                        block [282,298]
                            block_content [286,295]
                                goto [286,295]
                                    name: err [291,294]
                expr_stmt [301,350]
                    expr [301,349]
                        name: len [301,304]
                        operator: = [305,306]
                        ternary [307,349]
                            condition [307,331]
                                expr [307,329]
                                    name: file [307,311]
                                    operator: && [312,314]
                                    name [315,325]
                                        name: file [315,319]
                                        operator: -> [319,321]
                                        name: size [321,325]
                                    operator: > [326,327]
                                    literal: 0 [328,329]
                            then [332,342]
                                expr [332,342]
                                    name [332,342]
                                        name: file [332,336]
                                        operator: -> [336,338]
                                        name: size [338,342]
                            else [343,349]
                                expr [345,349]
                                    literal: 4096 [345,349]
                expr_stmt [352,376]
                    expr [352,375]
                        name: p [352,353]
                        operator: = [354,355]
                        call [356,375]
                            name: realloc [356,363]
                            argument_list [363,375]
                                argument [364,369]
                                    expr [364,369]
                                        operator: * [364,365]
                                        name: data [365,369]
                                argument [371,374]
                                    expr [371,374]
                                        name: len [371,374]
                if_stmt [378,402]
                    if [378,402]
                        condition [381,385]
                            expr [382,384]
                                operator: ! [382,383]
                                name: p [383,384]
                        block [386,402]
                            block_content [390,399]
                                goto [390,399]
                                    name: err [395,398]
                expr_stmt [404,414]
                    expr [404,413]
                        operator: * [404,405]
                        name: data [405,409]
                        operator: = [410,411]
                        name: p [412,413]
                expr_stmt [416,432]
                    expr [416,431]
                        operator: * [416,417]
                        name: data_len [417,425]
                        operator: = [426,427]
                        name: len [428,431]
                expr_stmt [435,474]
                    expr [435,473]
                        name: r [435,436]
                        operator: = [437,438]
                        call [439,473]
                            name: sc_read_binary [439,453]
                            argument_list [453,473]
                                argument [454,458]
                                    expr [454,458]
                                        name: card [454,458]
                                argument [460,461]
                                    expr [460,461]
                                        literal: 0 [460,461]
                                argument [463,464]
                                    expr [463,464]
                                        name: p [463,464]
                                argument [466,469]
                                    expr [466,469]
                                        name: len [466,469]
                                argument [471,472]
                                    expr [471,472]
                                        literal: 0 [471,472]
                if_stmt [476,498]
                    if [476,498]
                        condition [479,486]
                            expr [480,485]
                                name: r [480,481]
                                operator: < [482,483]
                                literal: 0 [484,485]
                        block [489,498]
                            block_content [489,498]
                                goto [489,498]
                                    name: err [494,497]
                expr_stmt [501,515]
                    expr [501,514]
                        operator: * [501,502]
                        name: data_len [502,510]
                        operator: = [511,512]
                        name: r [513,514]
                expr_stmt [517,524]
                    expr [517,523]
                        name: ok [517,519]
                        operator: = [520,521]
                        literal: 1 [522,523]
                label [526,530]
                    name: err [526,529]
                expr_stmt [532,551]
                    expr [532,550]
                        call [532,550]
                            name: sc_file_free [532,544]
                            argument_list [544,550]
                                argument [545,549]
                                    expr [545,549]
                                        name: file [545,549]
                return [554,564]
                    expr [561,563]
                        name: ok [561,563]