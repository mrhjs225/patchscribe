unit [0,0]
    function [0,762]
        type [0,10]
            specifier: static [0,6]
            name: int [7,10]
        name: mp_get_count [11,23]
        parameter_list [23,89]
            parameter [24,51]
                decl [24,51]
                    type [24,51]
                        name [24,44]
                            name: struct [24,30]
                            name: sb_uart_state [31,44]
                        modifier: * [45,46]
                    name: state [46,51]
            parameter [53,88]
                decl [53,88]
                    type [53,88]
                        name [53,82]
                            name: struct [53,59]
                            name: serial_icounter_struct [60,82]
                        modifier: * [83,84]
                    name: icnt [84,88]
        block [90,762]
            block_content [93,760]
                decl_stmt [93,130]
                    decl [93,129]
                        type [93,122]
                            name [93,122]
                                name: struct [93,99]
                                name: serial_icounter_struct [100,122]
                        name: icount [123,129]
                decl_stmt [132,159]
                    decl [132,158]
                        type [132,153]
                            name [132,153]
                                name: struct [132,138]
                                name: sb_uart_icount [139,153]
                        name: cnow [154,158]
                decl_stmt [161,201]
                    decl [161,200]
                        type [161,182]
                            name [161,180]
                                name: struct [161,167]
                                name: sb_uart_port [168,180]
                            modifier: * [181,182]
                        name: port [182,186]
                        init [187,200]
                            expr [189,200]
                                name [189,200]
                                    name: state [189,194]
                                    operator: -> [194,196]
                                    name: port [196,200]
                expr_stmt [204,231]
                    expr [204,230]
                        call [204,230]
                            name: spin_lock_irq [204,217]
                            argument_list [217,230]
                                argument [218,229]
                                    expr [218,229]
                                        operator: & [218,219]
                                        name [219,229]
                                            name: port [219,223]
                                            operator: -> [223,225]
                                            name: lock [225,229]
                expr_stmt [233,293]
                    expr [233,292]
                        call [233,292]
                            name: memcpy [233,239]
                            argument_list [239,292]
                                argument [240,245]
                                    expr [240,245]
                                        operator: & [240,241]
                                        name: cnow [241,245]
                                argument [247,260]
                                    expr [247,260]
                                        operator: & [247,248]
                                        name [248,260]
                                            name: port [248,252]
                                            operator: -> [252,254]
                                            name: icount [254,260]
                                argument [262,291]
                                    expr [262,291]
                                        sizeof [262,291]
                                            argument_list [268,291]
                                                argument [269,290]
                                                    expr [269,290]
                                                        name: sb_uart_icount [276,290]
                expr_stmt [295,324]
                    expr [295,323]
                        call [295,323]
                            name: spin_unlock_irq [295,310]
                            argument_list [310,323]
                                argument [311,322]
                                    expr [311,322]
                                        operator: & [311,312]
                                        name [312,322]
                                            name: port [312,316]
                                            operator: -> [316,318]
                                            name: lock [318,322]
                expr_stmt [327,357]
                    expr [327,356]
                        name [327,337]
                            name: icount [327,333]
                            operator: . [333,334]
                            name: cts [334,337]
                        operator: = [346,347]
                        name [348,356]
                            name: cnow [348,352]
                            operator: . [352,353]
                            name: cts [353,356]
                expr_stmt [359,389]
                    expr [359,388]
                        name [359,369]
                            name: icount [359,365]
                            operator: . [365,366]
                            name: dsr [366,369]
                        operator: = [378,379]
                        name [380,388]
                            name: cnow [380,384]
                            operator: . [384,385]
                            name: dsr [385,388]
                expr_stmt [391,421]
                    expr [391,420]
                        name [391,401]
                            name: icount [391,397]
                            operator: . [397,398]
                            name: rng [398,401]
                        operator: = [410,411]
                        name [412,420]
                            name: cnow [412,416]
                            operator: . [416,417]
                            name: rng [417,420]
                expr_stmt [423,453]
                    expr [423,452]
                        name [423,433]
                            name: icount [423,429]
                            operator: . [429,430]
                            name: dcd [430,433]
                        operator: = [442,443]
                        name [444,452]
                            name: cnow [444,448]
                            operator: . [448,449]
                            name: dcd [449,452]
                expr_stmt [455,484]
                    expr [455,483]
                        name [455,464]
                            name: icount [455,461]
                            operator: . [461,462]
                            name: rx [462,464]
                        operator: = [474,475]
                        name [476,483]
                            name: cnow [476,480]
                            operator: . [480,481]
                            name: rx [481,483]
                expr_stmt [486,515]
                    expr [486,514]
                        name [486,495]
                            name: icount [486,492]
                            operator: . [492,493]
                            name: tx [493,495]
                        operator: = [505,506]
                        name [507,514]
                            name: cnow [507,511]
                            operator: . [511,512]
                            name: tx [512,514]
                expr_stmt [517,549]
                    expr [517,548]
                        name [517,529]
                            name: icount [517,523]
                            operator: . [523,524]
                            name: frame [524,529]
                        operator: = [536,537]
                        name [538,548]
                            name: cnow [538,542]
                            operator: . [542,543]
                            name: frame [543,548]
                expr_stmt [551,585]
                    expr [551,584]
                        name [551,565]
                            name: icount [551,557]
                            operator: . [557,558]
                            name: overrun [558,565]
                        operator: = [570,571]
                        name [572,584]
                            name: cnow [572,576]
                            operator: . [576,577]
                            name: overrun [577,584]
                expr_stmt [587,620]
                    expr [587,619]
                        name [587,600]
                            name: icount [587,593]
                            operator: . [593,594]
                            name: parity [594,600]
                        operator: = [606,607]
                        name [608,619]
                            name: cnow [608,612]
                            operator: . [612,613]
                            name: parity [613,619]
                expr_stmt [622,652]
                    expr [622,651]
                        name [622,632]
                            name: icount [622,628]
                            operator: . [628,629]
                            name: brk [629,632]
                        operator: = [641,642]
                        name [643,651]
                            name: cnow [643,647]
                            operator: . [647,648]
                            name: brk [648,651]
                expr_stmt [654,692]
                    expr [654,691]
                        name [654,672]
                            name: icount [654,660]
                            operator: . [660,661]
                            name: buf_overrun [661,672]
                        operator: = [673,674]
                        name [675,691]
                            name: cnow [675,679]
                            operator: . [679,680]
                            name: buf_overrun [680,691]
                return [695,760]
                    expr [702,759]
                        ternary [702,759]
                            condition [702,747]
                                expr [702,745]
                                    call [702,745]
                                        name: copy_to_user [702,714]
                                        argument_list [714,745]
                                            argument [715,719]
                                                expr [715,719]
                                                    name: icnt [715,719]
                                            argument [721,728]
                                                expr [721,728]
                                                    operator: & [721,722]
                                                    name: icount [722,728]
                                            argument [730,744]
                                                expr [730,744]
                                                    sizeof [730,744]
                                                        argument_list [736,744]
                                                            argument [737,743]
                                                                expr [737,743]
                                                                    name: icount [737,743]
                            then [748,755]
                                expr [748,755]
                                    operator: - [748,749]
                                    name: EFAULT [749,755]
                            else [756,759]
                                expr [758,759]
                                    literal: 0 [758,759]