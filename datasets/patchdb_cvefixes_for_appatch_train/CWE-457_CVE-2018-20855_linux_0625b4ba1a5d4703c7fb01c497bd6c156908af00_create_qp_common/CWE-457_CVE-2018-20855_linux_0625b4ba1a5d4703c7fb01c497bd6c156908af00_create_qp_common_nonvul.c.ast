unit [0,0]
    function [0,10451]
        type [0,10]
            specifier: static [0,6]
            name: int [7,10]
        name: create_qp_common [11,27]
        parameter_list [27,166]
            parameter [28,51]
                decl [28,51]
                    type [28,51]
                        name [28,46]
                            name: struct [28,34]
                            name: mlx5_ib_dev [35,46]
                        modifier: * [47,48]
                    name: dev [48,51]
            parameter [53,69]
                decl [53,69]
                    type [53,69]
                        name [53,65]
                            name: struct [53,59]
                            name: ib_pd [60,65]
                        modifier: * [66,67]
                    name: pd [67,69]
            parameter [78,111]
                decl [78,111]
                    type [78,111]
                        name [78,100]
                            name: struct [78,84]
                            name: ib_qp_init_attr [85,100]
                        modifier: * [101,102]
                    name: init_attr [102,111]
            parameter [120,142]
                decl [120,142]
                    type [120,142]
                        name [120,135]
                            name: struct [120,126]
                            name: ib_udata [127,135]
                        modifier: * [136,137]
                    name: udata [137,142]
            parameter [144,165]
                decl [144,165]
                    type [144,165]
                        name [144,161]
                            name: struct [144,150]
                            name: mlx5_ib_qp [151,161]
                        modifier: * [162,163]
                    name: qp [163,165]
        block [167,10451]
            block_content [170,10449]
                decl_stmt [170,214]
                    decl [170,213]
                        type [170,196]
                            name [170,194]
                                name: struct [170,176]
                                name: mlx5_ib_resources [177,194]
                            modifier: * [195,196]
                        name: devr [196,200]
                        init [201,213]
                            expr [203,213]
                                operator: & [203,204]
                                name [204,213]
                                    name: dev [204,207]
                                    operator: -> [207,209]
                                    name: devr [209,213]
                decl_stmt [216,259]
                    decl [216,258]
                        type [216,219]
                            name: int [216,219]
                        name: inlen [220,225]
                        init [226,258]
                            expr [228,258]
                                call [228,258]
                                    name: MLX5_ST_SZ_BYTES [228,244]
                                    argument_list [244,258]
                                        argument [245,257]
                                            expr [245,257]
                                                name: create_qp_in [245,257]
                decl_stmt [261,300]
                    decl [261,299]
                        type [261,283]
                            name [261,281]
                                name: struct [261,267]
                                name: mlx5_core_dev [268,281]
                            modifier: * [282,283]
                        name: mdev [283,287]
                        init [288,299]
                            expr [290,299]
                                name [290,299]
                                    name: dev [290,293]
                                    operator: -> [293,295]
                                    name: mdev [295,299]
                decl_stmt [302,342]
                    decl [302,341]
                        type [302,331]
                            name [302,331]
                                name: struct [302,308]
                                name: mlx5_ib_create_qp_resp [309,331]
                        name: resp [332,336]
                        init [337,341]
                            expr [339,341]
                                block [339,341]
                decl_stmt [344,371]
                    decl [344,370]
                        type [344,363]
                            name [344,361]
                                name: struct [344,350]
                                name: mlx5_ib_cq [351,361]
                            modifier: * [362,363]
                        name: send_cq [363,370]
                decl_stmt [373,400]
                    decl [373,399]
                        type [373,392]
                            name [373,390]
                                name: struct [373,379]
                                name: mlx5_ib_cq [380,390]
                            modifier: * [391,392]
                        name: recv_cq [392,399]
                decl_stmt [402,422]
                    decl [402,421]
                        type [402,415]
                            name: unsigned [402,410]
                            name: long [411,415]
                        name: flags [416,421]
                decl_stmt [424,456]
                    decl [424,455]
                        type [424,427]
                            name: u32 [424,427]
                        name: uidx [428,432]
                        init [433,455]
                            expr [435,455]
                                name: MLX5_IB_DEFAULT_UIDX [435,455]
                decl_stmt [458,488]
                    decl [458,487]
                        type [458,482]
                            name [458,482]
                                name: struct [458,464]
                                name: mlx5_ib_create_qp [465,482]
                        name: ucmd [483,487]
                decl_stmt [490,519]
                    decl [490,518]
                        type [490,514]
                            name [490,512]
                                name: struct [490,496]
                                name: mlx5_ib_qp_base [497,512]
                            modifier: * [513,514]
                        name: base [514,518]
                decl_stmt [521,533]
                    decl [521,532]
                        type [521,524]
                            name: int [521,524]
                        name: mlx5_st [525,532]
                decl_stmt [535,545]
                    decl [535,544]
                        type [535,541]
                            name: void [535,539]
                            modifier: * [540,541]
                        name: qpc [541,544]
                decl_stmt [547,555]
                    decl [547,554]
                        type [547,552]
                            name: u32 [547,550]
                            modifier: * [551,552]
                        name: in [552,554]
                decl_stmt [557,565]
                    decl [557,564]
                        type [557,560]
                            name: int [557,560]
                        name: err [561,564]
                expr_stmt [568,591]
                    expr [568,590]
                        call [568,590]
                            name: mutex_init [568,578]
                            argument_list [578,590]
                                argument [579,589]
                                    expr [579,589]
                                        operator: & [579,580]
                                        name [580,589]
                                            name: qp [580,582]
                                            operator: -> [582,584]
                                            name: mutex [584,589]
                expr_stmt [593,622]
                    expr [593,621]
                        call [593,621]
                            name: spin_lock_init [593,607]
                            argument_list [607,621]
                                argument [608,620]
                                    expr [608,620]
                                        operator: & [608,609]
                                        name [609,620]
                                            name: qp [609,611]
                                            operator: -> [611,613]
                                            name: sq [613,615]
                                            operator: . [615,616]
                                            name: lock [616,620]
                expr_stmt [624,653]
                    expr [624,652]
                        call [624,652]
                            name: spin_lock_init [624,638]
                            argument_list [638,652]
                                argument [639,651]
                                    expr [639,651]
                                        operator: & [639,640]
                                        name [640,651]
                                            name: qp [640,642]
                                            operator: -> [642,644]
                                            name: rq [644,646]
                                            operator: . [646,647]
                                            name: lock [647,651]
                expr_stmt [656,697]
                    expr [656,696]
                        name: mlx5_st [656,663]
                        operator: = [664,665]
                        call [666,696]
                            name: to_mlx5_st [666,676]
                            argument_list [676,696]
                                argument [677,695]
                                    expr [677,695]
                                        name [677,695]
                                            name: init_attr [677,686]
                                            operator: -> [686,688]
                                            name: qp_type [688,695]
                if_stmt [699,733]
                    if [699,733]
                        condition [702,715]
                            expr [703,714]
                                name: mlx5_st [703,710]
                                operator: < [711,712]
                                literal: 0 [713,714]
                        block [718,733]
                            block_content [718,733]
                                return [718,733]
                                    expr [725,732]
                                        operator: - [725,726]
                                        name: EINVAL [726,732]
                if_stmt [736,878]
                    if [736,878]
                        condition [739,763]
                            expr [740,762]
                                name [740,762]
                                    name: init_attr [740,749]
                                    operator: -> [749,751]
                                    name: rwq_ind_tbl [751,762]
                        block [764,878]
                            block_content [768,875]
                                if_stmt [768,798]
                                    if [768,798]
                                        condition [771,779]
                                            expr [772,778]
                                                operator: ! [772,773]
                                                name: udata [773,778]
                                        block [783,798]
                                            block_content [783,798]
                                                return [783,798]
                                                    expr [790,797]
                                                        operator: - [790,791]
                                                        name: ENOSYS [791,797]
                                expr_stmt [802,861]
                                    expr [802,860]
                                        name: err [802,805]
                                        operator: = [806,807]
                                        call [808,860]
                                            name: create_rss_raw_qp_tir [808,829]
                                            argument_list [829,860]
                                                argument [830,833]
                                                    expr [830,833]
                                                        name: dev [830,833]
                                                argument [835,837]
                                                    expr [835,837]
                                                        name: qp [835,837]
                                                argument [839,841]
                                                    expr [839,841]
                                                        name: pd [839,841]
                                                argument [843,852]
                                                    expr [843,852]
                                                        name: init_attr [843,852]
                                                argument [854,859]
                                                    expr [854,859]
                                                        name: udata [854,859]
                                return [864,875]
                                    expr [871,874]
                                        name: err [871,874]
                if_stmt [881,1150]
                    if [881,1150]
                        condition [884,949]
                            expr [885,948]
                                name [885,908]
                                    name: init_attr [885,894]
                                    operator: -> [894,896]
                                    name: create_flags [896,908]
                                operator: & [909,910]
                                name: IB_QP_CREATE_BLOCK_MULTICAST_LOOPBACK [911,948]
                        block [950,1150]
                            block_content [954,1147]
                                if_stmt [954,1147]
                                    if [954,1083]
                                        condition [957,991]
                                            expr [958,990]
                                                operator: ! [958,959]
                                                call [959,990]
                                                    name: MLX5_CAP_GEN [959,971]
                                                    argument_list [971,990]
                                                        argument [972,976]
                                                            expr [972,976]
                                                                name: mdev [972,976]
                                                        argument [978,989]
                                                            expr [978,989]
                                                                name: block_lb_mc [978,989]
                                        block [992,1083]
                                            block_content [997,1079]
                                                expr_stmt [997,1060]
                                                    expr [997,1059]
                                                        call [997,1059]
                                                            name: mlx5_ib_dbg [997,1008]
                                                            argument_list [1008,1059]
                                                                argument [1009,1012]
                                                                    expr [1009,1012]
                                                                        name: dev [1009,1012]
                                                                argument [1014,1058]
                                                                    expr [1014,1058]
                                                                        literal: "block multicast loopback isn't supported\n" [1014,1058]
                                                return [1064,1079]
                                                    expr [1071,1078]
                                                        operator: - [1071,1072]
                                                        name: EINVAL [1072,1078]
                                    else [1084,1147]
                                        block [1089,1147]
                                            block_content [1094,1143]
                                                expr_stmt [1094,1143]
                                                    expr [1094,1142]
                                                        name [1094,1103]
                                                            name: qp [1094,1096]
                                                            operator: -> [1096,1098]
                                                            name: flags [1098,1103]
                                                        operator: |= [1104,1106]
                                                        name: MLX5_IB_QP_BLOCK_MULTICAST_LOOPBACK [1107,1142]
                if_stmt [1153,1698]
                    if [1153,1698]
                        condition [1156,1279]
                            expr [1157,1278]
                                name [1157,1180]
                                    name: init_attr [1157,1166]
                                    operator: -> [1166,1168]
                                    name: create_flags [1168,1180]
                                operator: & [1181,1182]
                                operator: ( [1186,1187]
                                name: IB_QP_CREATE_CROSS_CHANNEL [1187,1213]
                                operator: | [1214,1215]
                                name: IB_QP_CREATE_MANAGED_SEND [1220,1245]
                                operator: | [1246,1247]
                                name: IB_QP_CREATE_MANAGED_RECV [1252,1277]
                                operator: ) [1277,1278]
                        block [1280,1698]
                            block_content [1284,1695]
                                if_stmt [1284,1393]
                                    if [1284,1393]
                                        condition [1287,1312]
                                            expr [1288,1311]
                                                operator: ! [1288,1289]
                                                call [1289,1311]
                                                    name: MLX5_CAP_GEN [1289,1301]
                                                    argument_list [1301,1311]
                                                        argument [1302,1306]
                                                            expr [1302,1306]
                                                                name: mdev [1302,1306]
                                                        argument [1308,1310]
                                                            expr [1308,1310]
                                                                name: cd [1308,1310]
                                        block [1313,1393]
                                            block_content [1318,1389]
                                                expr_stmt [1318,1370]
                                                    expr [1318,1369]
                                                        call [1318,1369]
                                                            name: mlx5_ib_dbg [1318,1329]
                                                            argument_list [1329,1369]
                                                                argument [1330,1333]
                                                                    expr [1330,1333]
                                                                        name: dev [1330,1333]
                                                                argument [1335,1368]
                                                                    expr [1335,1368]
                                                                        literal: "cross-channel isn't supported\n" [1335,1368]
                                                return [1374,1389]
                                                    expr [1381,1388]
                                                        operator: - [1381,1382]
                                                        name: EINVAL [1382,1388]
                                if_stmt [1396,1495]
                                    if [1396,1495]
                                        condition [1399,1453]
                                            expr [1400,1452]
                                                name [1400,1423]
                                                    name: init_attr [1400,1409]
                                                    operator: -> [1409,1411]
                                                    name: create_flags [1411,1423]
                                                operator: & [1424,1425]
                                                name: IB_QP_CREATE_CROSS_CHANNEL [1426,1452]
                                        block [1457,1495]
                                            block_content [1457,1495]
                                                expr_stmt [1457,1495]
                                                    expr [1457,1494]
                                                        name [1457,1466]
                                                            name: qp [1457,1459]
                                                            operator: -> [1459,1461]
                                                            name: flags [1461,1466]
                                                        operator: |= [1467,1469]
                                                        name: MLX5_IB_QP_CROSS_CHANNEL [1470,1494]
                                if_stmt [1498,1595]
                                    if [1498,1595]
                                        condition [1501,1554]
                                            expr [1502,1553]
                                                name [1502,1525]
                                                    name: init_attr [1502,1511]
                                                    operator: -> [1511,1513]
                                                    name: create_flags [1513,1525]
                                                operator: & [1526,1527]
                                                name: IB_QP_CREATE_MANAGED_SEND [1528,1553]
                                        block [1558,1595]
                                            block_content [1558,1595]
                                                expr_stmt [1558,1595]
                                                    expr [1558,1594]
                                                        name [1558,1567]
                                                            name: qp [1558,1560]
                                                            operator: -> [1560,1562]
                                                            name: flags [1562,1567]
                                                        operator: |= [1568,1570]
                                                        name: MLX5_IB_QP_MANAGED_SEND [1571,1594]
                                if_stmt [1598,1695]
                                    if [1598,1695]
                                        condition [1601,1654]
                                            expr [1602,1653]
                                                name [1602,1625]
                                                    name: init_attr [1602,1611]
                                                    operator: -> [1611,1613]
                                                    name: create_flags [1613,1625]
                                                operator: & [1626,1627]
                                                name: IB_QP_CREATE_MANAGED_RECV [1628,1653]
                                        block [1658,1695]
                                            block_content [1658,1695]
                                                expr_stmt [1658,1695]
                                                    expr [1658,1694]
                                                        name [1658,1667]
                                                            name: qp [1658,1660]
                                                            operator: -> [1660,1662]
                                                            name: flags [1662,1667]
                                                        operator: |= [1668,1670]
                                                        name: MLX5_IB_QP_MANAGED_RECV [1671,1694]
                if_stmt [1701,1935]
                    if [1701,1935]
                        condition [1704,1799]
                            expr [1705,1798]
                                name [1705,1723]
                                    name: init_attr [1705,1714]
                                    operator: -> [1714,1716]
                                    name: qp_type [1716,1723]
                                operator: == [1724,1726]
                                name: IB_QPT_UD [1727,1736]
                                operator: && [1737,1739]
                                operator: ( [1745,1746]
                                name [1746,1769]
                                    name: init_attr [1746,1755]
                                    operator: -> [1755,1757]
                                    name: create_flags [1757,1769]
                                operator: & [1770,1771]
                                name: IB_QP_CREATE_IPOIB_UD_LSO [1772,1797]
                                operator: ) [1797,1798]
                        block [1802,1935]
                            block_content [1802,1935]
                                if_stmt [1802,1935]
                                    if [1802,1935]
                                        condition [1805,1848]
                                            expr [1806,1847]
                                                operator: ! [1806,1807]
                                                call [1807,1847]
                                                    name: MLX5_CAP_GEN [1807,1819]
                                                    argument_list [1819,1847]
                                                        argument [1820,1824]
                                                            expr [1820,1824]
                                                                name: mdev [1820,1824]
                                                        argument [1826,1846]
                                                            expr [1826,1846]
                                                                name: ipoib_basic_offloads [1826,1846]
                                        block [1849,1935]
                                            block_content [1854,1931]
                                                expr_stmt [1854,1908]
                                                    expr [1854,1907]
                                                        call [1854,1907]
                                                            name: mlx5_ib_dbg [1854,1865]
                                                            argument_list [1865,1907]
                                                                argument [1866,1869]
                                                                    expr [1866,1869]
                                                                        name: dev [1866,1869]
                                                                argument [1871,1906]
                                                                    expr [1871,1906]
                                                                        literal: "ipoib UD lso qp isn't supported\n" [1871,1906]
                                                return [1912,1931]
                                                    expr [1919,1930]
                                                        operator: - [1919,1920]
                                                        name: EOPNOTSUPP [1920,1930]
                if_stmt [1938,2370]
                    if [1938,2370]
                        condition [1941,1993]
                            expr [1942,1992]
                                name [1942,1965]
                                    name: init_attr [1942,1951]
                                    operator: -> [1951,1953]
                                    name: create_flags [1953,1965]
                                operator: & [1966,1967]
                                name: IB_QP_CREATE_SCATTER_FCS [1968,1992]
                        block [1994,2370]
                            block_content [1998,2367]
                                if_stmt [1998,2144]
                                    if [1998,2144]
                                        condition [2001,2042]
                                            expr [2002,2041]
                                                name [2002,2020]
                                                    name: init_attr [2002,2011]
                                                    operator: -> [2011,2013]
                                                    name: qp_type [2013,2020]
                                                operator: != [2021,2023]
                                                name: IB_QPT_RAW_PACKET [2024,2041]
                                        block [2043,2144]
                                            block_content [2048,2140]
                                                expr_stmt [2048,2117]
                                                    expr [2048,2116]
                                                        call [2048,2116]
                                                            name: mlx5_ib_dbg [2048,2059]
                                                            argument_list [2059,2116]
                                                                argument [2060,2063]
                                                                    expr [2060,2063]
                                                                        name: dev [2060,2063]
                                                                argument [2065,2115]
                                                                    expr [2065,2115]
                                                                        literal: "Scatter FCS is supported only for Raw Packet QPs" [2065,2115]
                                                return [2121,2140]
                                                    expr [2128,2139]
                                                        operator: - [2128,2129]
                                                        name: EOPNOTSUPP [2129,2139]
                                if_stmt [2147,2324]
                                    if [2147,2324]
                                        condition [2150,2241]
                                            expr [2151,2240]
                                                operator: ! [2151,2152]
                                                call [2152,2193]
                                                    name: MLX5_CAP_GEN [2152,2164]
                                                    argument_list [2164,2193]
                                                        argument [2165,2174]
                                                            expr [2165,2174]
                                                                name [2165,2174]
                                                                    name: dev [2165,2168]
                                                                    operator: -> [2168,2170]
                                                                    name: mdev [2170,2174]
                                                        argument [2176,2192]
                                                            expr [2176,2192]
                                                                name: eth_net_offloads [2176,2192]
                                                operator: || [2194,2196]
                                                operator: ! [2203,2204]
                                                call [2204,2240]
                                                    name: MLX5_CAP_ETH [2204,2216]
                                                    argument_list [2216,2240]
                                                        argument [2217,2226]
                                                            expr [2217,2226]
                                                                name [2217,2226]
                                                                    name: dev [2217,2220]
                                                                    operator: -> [2220,2222]
                                                                    name: mdev [2222,2226]
                                                        argument [2228,2239]
                                                            expr [2228,2239]
                                                                name: scatter_fcs [2228,2239]
                                        block [2242,2324]
                                            block_content [2247,2320]
                                                expr_stmt [2247,2297]
                                                    expr [2247,2296]
                                                        call [2247,2296]
                                                            name: mlx5_ib_dbg [2247,2258]
                                                            argument_list [2258,2296]
                                                                argument [2259,2262]
                                                                    expr [2259,2262]
                                                                        name: dev [2259,2262]
                                                                argument [2264,2295]
                                                                    expr [2264,2295]
                                                                        literal: "Scatter FCS isn't supported\n" [2264,2295]
                                                return [2301,2320]
                                                    expr [2308,2319]
                                                        operator: - [2308,2309]
                                                        name: EOPNOTSUPP [2309,2319]
                                expr_stmt [2327,2367]
                                    expr [2327,2366]
                                        name [2327,2336]
                                            name: qp [2327,2329]
                                            operator: -> [2329,2331]
                                            name: flags [2331,2336]
                                        operator: |= [2337,2339]
                                        name: MLX5_IB_QP_CAP_SCATTER_FCS [2340,2366]
                if_stmt [2373,2468]
                    if [2373,2468]
                        condition [2376,2420]
                            expr [2377,2419]
                                name [2377,2399]
                                    name: init_attr [2377,2386]
                                    operator: -> [2386,2388]
                                    name: sq_sig_type [2388,2399]
                                operator: == [2400,2402]
                                name: IB_SIGNAL_ALL_WR [2403,2419]
                        block [2423,2468]
                            block_content [2423,2468]
                                expr_stmt [2423,2468]
                                    expr [2423,2467]
                                        name [2423,2441]
                                            name: qp [2423,2425]
                                            operator: -> [2425,2427]
                                            name: sq_signal_bits [2427,2441]
                                        operator: = [2442,2443]
                                        name: MLX5_WQE_CTRL_CQ_UPDATE [2444,2467]
                if_stmt [2471,2749]
                    if [2471,2749]
                        condition [2474,2530]
                            expr [2475,2529]
                                name [2475,2498]
                                    name: init_attr [2475,2484]
                                    operator: -> [2484,2486]
                                    name: create_flags [2486,2498]
                                operator: & [2499,2500]
                                name: IB_QP_CREATE_CVLAN_STRIPPING [2501,2529]
                        block [2531,2749]
                            block_content [2535,2746]
                                if_stmt [2535,2703]
                                    if [2535,2703]
                                        condition [2538,2680]
                                            expr [2539,2679]
                                                operator: ! [2539,2540]
                                                operator: ( [2540,2541]
                                                call [2541,2582]
                                                    name: MLX5_CAP_GEN [2541,2553]
                                                    argument_list [2553,2582]
                                                        argument [2554,2563]
                                                            expr [2554,2563]
                                                                name [2554,2563]
                                                                    name: dev [2554,2557]
                                                                    operator: -> [2557,2559]
                                                                    name: mdev [2559,2563]
                                                        argument [2565,2581]
                                                            expr [2565,2581]
                                                                name: eth_net_offloads [2565,2581]
                                                operator: && [2583,2585]
                                                call [2594,2627]
                                                    name: MLX5_CAP_ETH [2594,2606]
                                                    argument_list [2606,2627]
                                                        argument [2607,2616]
                                                            expr [2607,2616]
                                                                name [2607,2616]
                                                                    name: dev [2607,2610]
                                                                    operator: -> [2610,2612]
                                                                    name: mdev [2612,2616]
                                                        argument [2618,2626]
                                                            expr [2618,2626]
                                                                name: vlan_cap [2618,2626]
                                                operator: ) [2627,2628]
                                                operator: || [2629,2631]
                                                operator: ( [2638,2639]
                                                name [2639,2657]
                                                    name: init_attr [2639,2648]
                                                    operator: -> [2648,2650]
                                                    name: qp_type [2650,2657]
                                                operator: != [2658,2660]
                                                name: IB_QPT_RAW_PACKET [2661,2678]
                                                operator: ) [2678,2679]
                                        block [2684,2703]
                                            block_content [2684,2703]
                                                return [2684,2703]
                                                    expr [2691,2702]
                                                        operator: - [2691,2692]
                                                        name: EOPNOTSUPP [2692,2702]
                                expr_stmt [2706,2746]
                                    expr [2706,2745]
                                        name [2706,2715]
                                            name: qp [2706,2708]
                                            operator: -> [2708,2710]
                                            name: flags [2710,2715]
                                        operator: |= [2716,2718]
                                        name: MLX5_IB_QP_CVLAN_STRIPPING [2719,2745]
                if_stmt [2752,3876]
                    if [2752,3835]
                        condition [2755,2774]
                            expr [2756,2773]
                                name: pd [2756,2758]
                                operator: && [2759,2761]
                                name [2762,2773]
                                    name: pd [2762,2764]
                                    operator: -> [2764,2766]
                                    name: uobject [2766,2773]
                        block [2775,3835]
                            block_content [2779,3832]
                                if_stmt [2779,2893]
                                    if [2779,2893]
                                        condition [2782,2830]
                                            expr [2783,2829]
                                                call [2783,2829]
                                                    name: ib_copy_from_udata [2783,2801]
                                                    argument_list [2801,2829]
                                                        argument [2802,2807]
                                                            expr [2802,2807]
                                                                operator: & [2802,2803]
                                                                name: ucmd [2803,2807]
                                                        argument [2809,2814]
                                                            expr [2809,2814]
                                                                name: udata [2809,2814]
                                                        argument [2816,2828]
                                                            expr [2816,2828]
                                                                sizeof [2816,2828]
                                                                    argument_list [2822,2828]
                                                                        argument [2823,2827]
                                                                            expr [2823,2827]
                                                                                name: ucmd [2823,2827]
                                        block [2831,2893]
                                            block_content [2836,2889]
                                                expr_stmt [2836,2870]
                                                    expr [2836,2869]
                                                        call [2836,2869]
                                                            name: mlx5_ib_dbg [2836,2847]
                                                            argument_list [2847,2869]
                                                                argument [2848,2851]
                                                                    expr [2848,2851]
                                                                        name: dev [2848,2851]
                                                                argument [2853,2868]
                                                                    expr [2853,2868]
                                                                        literal: "copy failed\n" [2853,2868]
                                                return [2874,2889]
                                                    expr [2881,2888]
                                                        operator: - [2881,2882]
                                                        name: EFAULT [2882,2888]
                                expr_stmt [2897,2990]
                                    expr [2897,2989]
                                        name: err [2897,2900]
                                        operator: = [2901,2902]
                                        call [2903,2989]
                                            name: get_qp_user_index [2903,2920]
                                            argument_list [2920,2989]
                                                argument [2921,2955]
                                                    expr [2921,2955]
                                                        call [2921,2955]
                                                            name: to_mucontext [2921,2933]
                                                            argument_list [2933,2955]
                                                                argument [2934,2954]
                                                                    expr [2934,2954]
                                                                        name [2934,2954]
                                                                            name: pd [2934,2936]
                                                                            operator: -> [2936,2938]
                                                                            name: uobject [2938,2945]
                                                                            operator: -> [2945,2947]
                                                                            name: context [2947,2954]
                                                argument [2962,2967]
                                                    expr [2962,2967]
                                                        operator: & [2962,2963]
                                                        name: ucmd [2963,2967]
                                                argument [2969,2981]
                                                    expr [2969,2981]
                                                        name [2969,2981]
                                                            name: udata [2969,2974]
                                                            operator: -> [2974,2976]
                                                            name: inlen [2976,2981]
                                                argument [2983,2988]
                                                    expr [2983,2988]
                                                        operator: & [2983,2984]
                                                        name: uidx [2984,2988]
                                if_stmt [2993,3016]
                                    if [2993,3016]
                                        condition [2996,3001]
                                            expr [2997,3000]
                                                name: err [2997,3000]
                                        block [3005,3016]
                                            block_content [3005,3016]
                                                return [3005,3016]
                                                    expr [3012,3015]
                                                        name: err [3012,3015]
                                expr_stmt [3020,3073]
                                    expr [3020,3072]
                                        name [3020,3030]
                                            name: qp [3020,3022]
                                            operator: -> [3022,3024]
                                            name: wq_sig [3024,3030]
                                        operator: = [3031,3032]
                                        operator: ! [3033,3034]
                                        operator: ! [3034,3035]
                                        operator: ( [3035,3036]
                                        name [3036,3046]
                                            name: ucmd [3036,3040]
                                            operator: . [3040,3041]
                                            name: flags [3041,3046]
                                        operator: & [3047,3048]
                                        name: MLX5_QP_FLAG_SIGNATURE [3049,3071]
                                        operator: ) [3071,3072]
                                expr_stmt [3076,3133]
                                    expr [3076,3132]
                                        name [3076,3088]
                                            name: qp [3076,3078]
                                            operator: -> [3078,3080]
                                            name: scat_cqe [3080,3088]
                                        operator: = [3089,3090]
                                        operator: ! [3091,3092]
                                        operator: ! [3092,3093]
                                        operator: ( [3093,3094]
                                        name [3094,3104]
                                            name: ucmd [3094,3098]
                                            operator: . [3098,3099]
                                            name: flags [3099,3104]
                                        operator: & [3105,3106]
                                        name: MLX5_QP_FLAG_SCATTER_CQE [3107,3131]
                                        operator: ) [3131,3132]
                                if_stmt [3136,3400]
                                    if [3136,3400]
                                        condition [3139,3182]
                                            expr [3140,3181]
                                                name [3140,3150]
                                                    name: ucmd [3140,3144]
                                                    operator: . [3144,3145]
                                                    name: flags [3145,3150]
                                                operator: & [3151,3152]
                                                name: MLX5_QP_FLAG_TUNNEL_OFFLOADS [3153,3181]
                                        block [3183,3400]
                                            block_content [3188,3396]
                                                if_stmt [3188,3363]
                                                    if [3188,3363]
                                                        condition [3191,3274]
                                                            expr [3192,3273]
                                                                name [3192,3210]
                                                                    name: init_attr [3192,3201]
                                                                    operator: -> [3201,3203]
                                                                    name: qp_type [3203,3210]
                                                                operator: != [3211,3213]
                                                                name: IB_QPT_RAW_PACKET [3214,3231]
                                                                operator: || [3232,3234]
                                                                operator: ! [3242,3243]
                                                                call [3243,3273]
                                                                    name: tunnel_offload_supported [3243,3267]
                                                                    argument_list [3267,3273]
                                                                        argument [3268,3272]
                                                                            expr [3268,3272]
                                                                                name: mdev [3268,3272]
                                                        block [3275,3363]
                                                            block_content [3281,3358]
                                                                expr_stmt [3281,3334]
                                                                    expr [3281,3333]
                                                                        call [3281,3333]
                                                                            name: mlx5_ib_dbg [3281,3292]
                                                                            argument_list [3292,3333]
                                                                                argument [3293,3296]
                                                                                    expr [3293,3296]
                                                                                        name: dev [3293,3296]
                                                                                argument [3298,3332]
                                                                                    expr [3298,3332]
                                                                                        literal: "Tunnel offload isn't supported\n" [3298,3332]
                                                                return [3339,3358]
                                                                    expr [3346,3357]
                                                                        operator: - [3346,3347]
                                                                        name: EOPNOTSUPP [3347,3357]
                                                expr_stmt [3367,3396]
                                                    expr [3367,3395]
                                                        name [3367,3388]
                                                            name: qp [3367,3369]
                                                            operator: -> [3369,3371]
                                                            name: tunnel_offload_en [3371,3388]
                                                        operator: = [3389,3390]
                                                        literal: true [3391,3395]
                                if_stmt [3404,3832]
                                    if [3404,3832]
                                        condition [3407,3458]
                                            expr [3408,3457]
                                                name [3408,3431]
                                                    name: init_attr [3408,3417]
                                                    operator: -> [3417,3419]
                                                    name: create_flags [3419,3431]
                                                operator: & [3432,3433]
                                                name: IB_QP_CREATE_SOURCE_QPN [3434,3457]
                                        block [3459,3832]
                                            block_content [3464,3828]
                                                if_stmt [3464,3745]
                                                    if [3464,3745]
                                                        condition [3467,3654]
                                                            expr [3468,3653]
                                                                name [3468,3486]
                                                                    name: init_attr [3468,3477]
                                                                    operator: -> [3477,3479]
                                                                    name: qp_type [3479,3486]
                                                                operator: != [3487,3489]
                                                                name: IB_QPT_UD [3490,3499]
                                                                operator: || [3500,3502]
                                                                operator: ( [3510,3511]
                                                                call [3511,3545]
                                                                    name: MLX5_CAP_GEN [3511,3523]
                                                                    argument_list [3523,3545]
                                                                        argument [3524,3533]
                                                                            expr [3524,3533]
                                                                                name [3524,3533]
                                                                                    name: dev [3524,3527]
                                                                                    operator: -> [3527,3529]
                                                                                    name: mdev [3529,3533]
                                                                        argument [3535,3544]
                                                                            expr [3535,3544]
                                                                                name: port_type [3535,3544]
                                                                operator: != [3546,3548]
                                                                name: MLX5_CAP_PORT_TYPE_IB [3557,3578]
                                                                operator: ) [3578,3579]
                                                                operator: || [3580,3582]
                                                                operator: ! [3590,3591]
                                                                call [3591,3653]
                                                                    name: mlx5_get_flow_namespace [3591,3614]
                                                                    argument_list [3614,3653]
                                                                        argument [3615,3624]
                                                                            expr [3615,3624]
                                                                                name [3615,3624]
                                                                                    name: dev [3615,3618]
                                                                                    operator: -> [3618,3620]
                                                                                    name: mdev [3620,3624]
                                                                        argument [3626,3652]
                                                                            expr [3626,3652]
                                                                                name: MLX5_FLOW_NAMESPACE_BYPASS [3626,3652]
                                                        block [3655,3745]
                                                            block_content [3661,3740]
                                                                expr_stmt [3661,3716]
                                                                    expr [3661,3715]
                                                                        call [3661,3715]
                                                                            name: mlx5_ib_dbg [3661,3672]
                                                                            argument_list [3672,3715]
                                                                                argument [3673,3676]
                                                                                    expr [3673,3676]
                                                                                        name: dev [3673,3676]
                                                                                argument [3678,3714]
                                                                                    expr [3678,3714]
                                                                                        literal: "Source QP option isn't supported\n" [3678,3714]
                                                                return [3721,3740]
                                                                    expr [3728,3739]
                                                                        operator: - [3728,3729]
                                                                        name: EOPNOTSUPP [3729,3739]
                                                expr_stmt [3750,3783]
                                                    expr [3750,3782]
                                                        name [3750,3759]
                                                            name: qp [3750,3752]
                                                            operator: -> [3752,3754]
                                                            name: flags [3754,3759]
                                                        operator: |= [3760,3762]
                                                        name: MLX5_IB_QP_UNDERLAY [3763,3782]
                                                expr_stmt [3787,3828]
                                                    expr [3787,3827]
                                                        name [3787,3803]
                                                            name: qp [3787,3789]
                                                            operator: -> [3789,3791]
                                                            name: underlay_qpn [3791,3803]
                                                        operator: = [3804,3805]
                                                        name [3806,3827]
                                                            name: init_attr [3806,3815]
                                                            operator: -> [3815,3817]
                                                            name: source_qpn [3817,3827]
                    else [3836,3876]
                        block [3841,3876]
                            block_content [3845,3873]
                                expr_stmt [3845,3873]
                                    expr [3845,3872]
                                        name [3845,3855]
                                            name: qp [3845,3847]
                                            operator: -> [3847,3849]
                                            name: wq_sig [3849,3855]
                                        operator: = [3856,3857]
                                        operator: ! [3858,3859]
                                        operator: ! [3859,3860]
                                        name: wq_signature [3860,3872]
                expr_stmt [3879,4031]
                    expr [3879,4030]
                        name: base [3879,3883]
                        operator: = [3884,3885]
                        ternary [3886,4030]
                            condition [3886,3966]
                                expr [3886,3964]
                                    operator: ( [3886,3887]
                                    name [3887,3905]
                                        name: init_attr [3887,3896]
                                        operator: -> [3896,3898]
                                        name: qp_type [3898,3905]
                                    operator: == [3906,3908]
                                    name: IB_QPT_RAW_PACKET [3909,3926]
                                    operator: || [3927,3929]
                                    name [3932,3941]
                                        name: qp [3932,3934]
                                        operator: -> [3934,3936]
                                        name: flags [3936,3941]
                                    operator: & [3942,3943]
                                    name: MLX5_IB_QP_UNDERLAY [3944,3963]
                                    operator: ) [3963,3964]
                            then [3975,4001]
                                expr [3975,4001]
                                    operator: & [3975,3976]
                                    name [3976,4001]
                                        name: qp [3976,3978]
                                        operator: -> [3978,3980]
                                        name: raw_packet_qp [3980,3993]
                                        operator: . [3993,3994]
                                        name: rq [3994,3996]
                                        operator: . [3996,3997]
                                        name: base [3997,4001]
                            else [4002,4030]
                                expr [4012,4030]
                                    operator: & [4012,4013]
                                    name [4013,4030]
                                        name: qp [4013,4015]
                                        operator: -> [4015,4017]
                                        name: trans_qp [4017,4025]
                                        operator: . [4025,4026]
                                        name: base [4026,4030]
                expr_stmt [4034,4068]
                    expr [4034,4067]
                        name [4034,4044]
                            name: qp [4034,4036]
                            operator: -> [4036,4038]
                            name: has_rq [4038,4044]
                        operator: = [4045,4046]
                        call [4047,4067]
                            name: qp_has_rq [4047,4056]
                            argument_list [4056,4067]
                                argument [4057,4066]
                                    expr [4057,4066]
                                        name: init_attr [4057,4066]
                expr_stmt [4070,4167]
                    expr [4070,4166]
                        name: err [4070,4073]
                        operator: = [4074,4075]
                        call [4076,4166]
                            name: set_rq_size [4076,4087]
                            argument_list [4087,4166]
                                argument [4088,4091]
                                    expr [4088,4091]
                                        name: dev [4088,4091]
                                argument [4093,4108]
                                    expr [4093,4108]
                                        operator: & [4093,4094]
                                        name [4094,4108]
                                            name: init_attr [4094,4103]
                                            operator: -> [4103,4105]
                                            name: cap [4105,4108]
                                argument [4110,4120]
                                    expr [4110,4120]
                                        name [4110,4120]
                                            name: qp [4110,4112]
                                            operator: -> [4112,4114]
                                            name: has_rq [4114,4120]
                                argument [4127,4129]
                                    expr [4127,4129]
                                        name: qp [4127,4129]
                                argument [4131,4165]
                                    expr [4131,4165]
                                        ternary [4131,4165]
                                            condition [4131,4152]
                                                expr [4131,4150]
                                                    operator: ( [4131,4132]
                                                    name: pd [4132,4134]
                                                    operator: && [4135,4137]
                                                    name [4138,4149]
                                                        name: pd [4138,4140]
                                                        operator: -> [4140,4142]
                                                        name: uobject [4142,4149]
                                                    operator: ) [4149,4150]
                                            then [4153,4158]
                                                expr [4153,4158]
                                                    operator: & [4153,4154]
                                                    name: ucmd [4154,4158]
                                            else [4159,4165]
                                                expr [4161,4165]
                                                    name: NULL [4161,4165]
                if_stmt [4169,4233]
                    if [4169,4233]
                        condition [4172,4177]
                            expr [4173,4176]
                                name: err [4173,4176]
                        block [4178,4233]
                            block_content [4182,4230]
                                expr_stmt [4182,4216]
                                    expr [4182,4215]
                                        call [4182,4215]
                                            name: mlx5_ib_dbg [4182,4193]
                                            argument_list [4193,4215]
                                                argument [4194,4197]
                                                    expr [4194,4197]
                                                        name: dev [4194,4197]
                                                argument [4199,4209]
                                                    expr [4199,4209]
                                                        literal: "err %d\n" [4199,4209]
                                                argument [4211,4214]
                                                    expr [4211,4214]
                                                        name: err [4211,4214]
                                return [4219,4230]
                                    expr [4226,4229]
                                        name: err [4226,4229]
                if_stmt [4236,5355]
                    if [4236,5243]
                        condition [4239,4243]
                            expr [4240,4242]
                                name: pd [4240,4242]
                        block [4244,5243]
                            block_content [4248,5240]
                                if_stmt [4248,5213]
                                    if [4248,5073]
                                        condition [4251,4264]
                                            expr [4252,4263]
                                                name [4252,4263]
                                                    name: pd [4252,4254]
                                                    operator: -> [4254,4256]
                                                    name: uobject [4256,4263]
                                        block [4265,5073]
                                            block_content [4270,5069]
                                                decl_stmt [4270,4330]
                                                    decl [4270,4329]
                                                        type [4270,4275]
                                                            name: __u32 [4270,4275]
                                                        name: max_wqes [4276,4284]
                                                        init [4285,4329]
                                                            expr [4291,4329]
                                                                literal: 1 [4291,4292]
                                                                operator: << [4293,4295]
                                                                call [4296,4329]
                                                                    name: MLX5_CAP_GEN [4296,4308]
                                                                    argument_list [4308,4329]
                                                                        argument [4309,4313]
                                                                            expr [4309,4313]
                                                                                name: mdev [4309,4313]
                                                                        argument [4315,4328]
                                                                            expr [4315,4328]
                                                                                name: log_max_qp_sz [4315,4328]
                                                expr_stmt [4334,4403]
                                                    expr [4334,4402]
                                                        call [4334,4402]
                                                            name: mlx5_ib_dbg [4334,4345]
                                                            argument_list [4345,4402]
                                                                argument [4346,4349]
                                                                    expr [4346,4349]
                                                                        name: dev [4346,4349]
                                                                argument [4351,4382]
                                                                    expr [4351,4382]
                                                                        literal: "requested sq_wqe_count (%d)\n" [4351,4382]
                                                                argument [4384,4401]
                                                                    expr [4384,4401]
                                                                        name [4384,4401]
                                                                            name: ucmd [4384,4388]
                                                                            operator: . [4388,4389]
                                                                            name: sq_wqe_count [4389,4401]
                                                if_stmt [4407,4567]
                                                    if [4407,4567]
                                                        condition [4410,4495]
                                                            expr [4411,4494]
                                                                name [4411,4428]
                                                                    name: ucmd [4411,4415]
                                                                    operator: . [4415,4416]
                                                                    name: rq_wqe_shift [4416,4428]
                                                                operator: != [4429,4431]
                                                                name [4432,4448]
                                                                    name: qp [4432,4434]
                                                                    operator: -> [4434,4436]
                                                                    name: rq [4436,4438]
                                                                    operator: . [4438,4439]
                                                                    name: wqe_shift [4439,4448]
                                                                operator: || [4449,4451]
                                                                name [4459,4476]
                                                                    name: ucmd [4459,4463]
                                                                    operator: . [4463,4464]
                                                                    name: rq_wqe_count [4464,4476]
                                                                operator: != [4477,4479]
                                                                name [4480,4494]
                                                                    name: qp [4480,4482]
                                                                    operator: -> [4482,4484]
                                                                    name: rq [4484,4486]
                                                                    operator: . [4486,4487]
                                                                    name: wqe_cnt [4487,4494]
                                                        block [4496,4567]
                                                            block_content [4502,4562]
                                                                expr_stmt [4502,4542]
                                                                    expr [4502,4541]
                                                                        call [4502,4541]
                                                                            name: mlx5_ib_dbg [4502,4513]
                                                                            argument_list [4513,4541]
                                                                                argument [4514,4517]
                                                                                    expr [4514,4517]
                                                                                        name: dev [4514,4517]
                                                                                argument [4519,4540]
                                                                                    expr [4519,4540]
                                                                                        literal: "invalid rq params\n" [4519,4540]
                                                                return [4547,4562]
                                                                    expr [4554,4561]
                                                                        operator: - [4554,4555]
                                                                        name: EINVAL [4555,4561]
                                                if_stmt [4571,4743]
                                                    if [4571,4743]
                                                        condition [4574,4604]
                                                            expr [4575,4603]
                                                                name [4575,4592]
                                                                    name: ucmd [4575,4579]
                                                                    operator: . [4579,4580]
                                                                    name: sq_wqe_count [4580,4592]
                                                                operator: > [4593,4594]
                                                                name: max_wqes [4595,4603]
                                                        block [4605,4743]
                                                            block_content [4611,4738]
                                                                expr_stmt [4611,4718]
                                                                    expr [4611,4717]
                                                                        call [4611,4717]
                                                                            name: mlx5_ib_dbg [4611,4622]
                                                                            argument_list [4622,4717]
                                                                                argument [4623,4626]
                                                                                    expr [4623,4626]
                                                                                        name: dev [4623,4626]
                                                                                argument [4628,4678]
                                                                                    expr [4628,4678]
                                                                                        literal: "requested sq_wqe_count (%d)>max allowed (%d)\n" [4628,4678]
                                                                                argument [4689,4706]
                                                                                    expr [4689,4706]
                                                                                        name [4689,4706]
                                                                                            name: ucmd [4689,4693]
                                                                                            operator: . [4693,4694]
                                                                                            name: sq_wqe_count [4694,4706]
                                                                                argument [4708,4716]
                                                                                    expr [4708,4716]
                                                                                        name: max_wqes [4708,4716]
                                                                return [4723,4738]
                                                                    expr [4730,4737]
                                                                        operator: - [4730,4731]
                                                                        name: EINVAL [4731,4737]
                                                if_stmt [4747,4926]
                                                    if [4747,4926]
                                                        condition [4750,4813]
                                                            expr [4751,4812]
                                                                name [4751,4774]
                                                                    name: init_attr [4751,4760]
                                                                    operator: -> [4760,4762]
                                                                    name: create_flags [4762,4774]
                                                                operator: & [4775,4776]
                                                                call [4784,4812]
                                                                    name: mlx5_ib_create_qp_sqpn_qp1 [4784,4810]
                                                                    argument_list [4810,4812]
                                                        block [4814,4926]
                                                            block_content [4820,4921]
                                                                expr_stmt [4820,4901]
                                                                    expr [4820,4900]
                                                                        call [4820,4900]
                                                                            name: mlx5_ib_dbg [4820,4831]
                                                                            argument_list [4831,4900]
                                                                                argument [4832,4835]
                                                                                    expr [4832,4835]
                                                                                        name: dev [4832,4835]
                                                                                argument [4837,4899]
                                                                                    expr [4837,4899]
                                                                                        literal: "user-space is not allowed to create UD QPs spoofing as QP1\n" [4837,4899]
                                                                return [4906,4921]
                                                                    expr [4913,4920]
                                                                        operator: - [4913,4914]
                                                                        name: EINVAL [4914,4920]
                                                expr_stmt [4930,5018]
                                                    expr [4930,5017]
                                                        name: err [4930,4933]
                                                        operator: = [4934,4935]
                                                        call [4936,5017]
                                                            name: create_user_qp [4936,4950]
                                                            argument_list [4950,5017]
                                                                argument [4951,4954]
                                                                    expr [4951,4954]
                                                                        name: dev [4951,4954]
                                                                argument [4956,4958]
                                                                    expr [4956,4958]
                                                                        name: pd [4956,4958]
                                                                argument [4960,4962]
                                                                    expr [4960,4962]
                                                                        name: qp [4960,4962]
                                                                argument [4964,4969]
                                                                    expr [4964,4969]
                                                                        name: udata [4964,4969]
                                                                argument [4971,4980]
                                                                    expr [4971,4980]
                                                                        name: init_attr [4971,4980]
                                                                argument [4982,4985]
                                                                    expr [4982,4985]
                                                                        operator: & [4982,4983]
                                                                        name: in [4983,4985]
                                                                argument [4997,5002]
                                                                    expr [4997,5002]
                                                                        operator: & [4997,4998]
                                                                        name: resp [4998,5002]
                                                                argument [5004,5010]
                                                                    expr [5004,5010]
                                                                        operator: & [5004,5005]
                                                                        name: inlen [5005,5010]
                                                                argument [5012,5016]
                                                                    expr [5012,5016]
                                                                        name: base [5012,5016]
                                                if_stmt [5022,5069]
                                                    if [5022,5069]
                                                        condition [5025,5030]
                                                            expr [5026,5029]
                                                                name: err [5026,5029]
                                                        block [5035,5069]
                                                            block_content [5035,5069]
                                                                expr_stmt [5035,5069]
                                                                    expr [5035,5068]
                                                                        call [5035,5068]
                                                                            name: mlx5_ib_dbg [5035,5046]
                                                                            argument_list [5046,5068]
                                                                                argument [5047,5050]
                                                                                    expr [5047,5050]
                                                                                        name: dev [5047,5050]
                                                                                argument [5052,5062]
                                                                                    expr [5052,5062]
                                                                                        literal: "err %d\n" [5052,5062]
                                                                                argument [5064,5067]
                                                                                    expr [5064,5067]
                                                                                        name: err [5064,5067]
                                    else [5074,5213]
                                        block [5079,5213]
                                            block_content [5084,5209]
                                                expr_stmt [5084,5158]
                                                    expr [5084,5157]
                                                        name: err [5084,5087]
                                                        operator: = [5088,5089]
                                                        call [5090,5157]
                                                            name: create_kernel_qp [5090,5106]
                                                            argument_list [5106,5157]
                                                                argument [5107,5110]
                                                                    expr [5107,5110]
                                                                        name: dev [5107,5110]
                                                                argument [5112,5121]
                                                                    expr [5112,5121]
                                                                        name: init_attr [5112,5121]
                                                                argument [5123,5125]
                                                                    expr [5123,5125]
                                                                        name: qp [5123,5125]
                                                                argument [5127,5130]
                                                                    expr [5127,5130]
                                                                        operator: & [5127,5128]
                                                                        name: in [5128,5130]
                                                                argument [5132,5138]
                                                                    expr [5132,5138]
                                                                        operator: & [5132,5133]
                                                                        name: inlen [5133,5138]
                                                                argument [5152,5156]
                                                                    expr [5152,5156]
                                                                        name: base [5152,5156]
                                                if_stmt [5162,5209]
                                                    if [5162,5209]
                                                        condition [5165,5170]
                                                            expr [5166,5169]
                                                                name: err [5166,5169]
                                                        block [5175,5209]
                                                            block_content [5175,5209]
                                                                expr_stmt [5175,5209]
                                                                    expr [5175,5208]
                                                                        call [5175,5208]
                                                                            name: mlx5_ib_dbg [5175,5186]
                                                                            argument_list [5186,5208]
                                                                                argument [5187,5190]
                                                                                    expr [5187,5190]
                                                                                        name: dev [5187,5190]
                                                                                argument [5192,5202]
                                                                                    expr [5192,5202]
                                                                                        literal: "err %d\n" [5192,5202]
                                                                                argument [5204,5207]
                                                                                    expr [5204,5207]
                                                                                        name: err [5204,5207]
                                if_stmt [5217,5240]
                                    if [5217,5240]
                                        condition [5220,5225]
                                            expr [5221,5224]
                                                name: err [5221,5224]
                                        block [5229,5240]
                                            block_content [5229,5240]
                                                return [5229,5240]
                                                    expr [5236,5239]
                                                        name: err [5236,5239]
                    else [5244,5355]
                        block [5249,5355]
                            block_content [5253,5352]
                                expr_stmt [5253,5286]
                                    expr [5253,5285]
                                        name: in [5253,5255]
                                        operator: = [5256,5257]
                                        call [5258,5285]
                                            name: kvzalloc [5258,5266]
                                            argument_list [5266,5285]
                                                argument [5267,5272]
                                                    expr [5267,5272]
                                                        name: inlen [5267,5272]
                                                argument [5274,5284]
                                                    expr [5274,5284]
                                                        name: GFP_KERNEL [5274,5284]
                                if_stmt [5289,5316]
                                    if [5289,5316]
                                        condition [5292,5297]
                                            expr [5293,5296]
                                                operator: ! [5293,5294]
                                                name: in [5294,5296]
                                        block [5301,5316]
                                            block_content [5301,5316]
                                                return [5301,5316]
                                                    expr [5308,5315]
                                                        operator: - [5308,5309]
                                                        name: ENOMEM [5309,5315]
                                expr_stmt [5320,5352]
                                    expr [5320,5351]
                                        name [5320,5335]
                                            name: qp [5320,5322]
                                            operator: -> [5322,5324]
                                            name: create_type [5324,5335]
                                        operator: = [5336,5337]
                                        name: MLX5_QP_EMPTY [5338,5351]
                if_stmt [5358,5423]
                    if [5358,5423]
                        condition [5361,5389]
                            expr [5362,5388]
                                call [5362,5388]
                                    name: is_sqp [5362,5368]
                                    argument_list [5368,5388]
                                        argument [5369,5387]
                                            expr [5369,5387]
                                                name [5369,5387]
                                                    name: init_attr [5369,5378]
                                                    operator: -> [5378,5380]
                                                    name: qp_type [5380,5387]
                        block [5392,5423]
                            block_content [5392,5423]
                                expr_stmt [5392,5423]
                                    expr [5392,5422]
                                        name [5392,5400]
                                            name: qp [5392,5394]
                                            operator: -> [5394,5396]
                                            name: port [5396,5400]
                                        operator: = [5401,5402]
                                        name [5403,5422]
                                            name: init_attr [5403,5412]
                                            operator: -> [5412,5414]
                                            name: port_num [5414,5422]
                expr_stmt [5426,5468]
                    expr [5426,5467]
                        name: qpc [5426,5429]
                        operator: = [5430,5431]
                        call [5432,5467]
                            name: MLX5_ADDR_OF [5432,5444]
                            argument_list [5444,5467]
                                argument [5445,5457]
                                    expr [5445,5457]
                                        name: create_qp_in [5445,5457]
                                argument [5459,5461]
                                    expr [5459,5461]
                                        name: in [5459,5461]
                                argument [5463,5466]
                                    expr [5463,5466]
                                        name: qpc [5463,5466]
                expr_stmt [5471,5503]
                    expr [5471,5502]
                        call [5471,5502]
                            name: MLX5_SET [5471,5479]
                            argument_list [5479,5502]
                                argument [5480,5483]
                                    expr [5480,5483]
                                        name: qpc [5480,5483]
                                argument [5485,5488]
                                    expr [5485,5488]
                                        name: qpc [5485,5488]
                                argument [5490,5492]
                                    expr [5490,5492]
                                        name: st [5490,5492]
                                argument [5494,5501]
                                    expr [5494,5501]
                                        name: mlx5_st [5494,5501]
                expr_stmt [5505,5555]
                    expr [5505,5554]
                        call [5505,5554]
                            name: MLX5_SET [5505,5513]
                            argument_list [5513,5554]
                                argument [5514,5517]
                                    expr [5514,5517]
                                        name: qpc [5514,5517]
                                argument [5519,5522]
                                    expr [5519,5522]
                                        name: qpc [5519,5522]
                                argument [5524,5532]
                                    expr [5524,5532]
                                        name: pm_state [5524,5532]
                                argument [5534,5553]
                                    expr [5534,5553]
                                        name: MLX5_QP_PM_MIGRATED [5534,5553]
                if_stmt [5558,5713]
                    if [5558,5663]
                        condition [5561,5604]
                            expr [5562,5603]
                                name [5562,5580]
                                    name: init_attr [5562,5571]
                                    operator: -> [5571,5573]
                                    name: qp_type [5573,5580]
                                operator: != [5581,5583]
                                name: MLX5_IB_QPT_REG_UMR [5584,5603]
                        block [5607,5663]
                            block_content [5607,5663]
                                expr_stmt [5607,5663]
                                    expr [5607,5662]
                                        call [5607,5662]
                                            name: MLX5_SET [5607,5615]
                                            argument_list [5615,5662]
                                                argument [5616,5619]
                                                    expr [5616,5619]
                                                        name: qpc [5616,5619]
                                                argument [5621,5624]
                                                    expr [5621,5624]
                                                        name: qpc [5621,5624]
                                                argument [5626,5628]
                                                    expr [5626,5628]
                                                        name: pd [5626,5628]
                                                argument [5630,5661]
                                                    expr [5630,5661]
                                                        call [5630,5656]
                                                            name: to_mpd [5630,5636]
                                                            argument_list [5636,5656]
                                                                argument [5637,5655]
                                                                    expr [5637,5655]
                                                                        ternary [5637,5655]
                                                                            condition [5637,5641]
                                                                                expr [5637,5639]
                                                                                    name: pd [5637,5639]
                                                                            then [5642,5644]
                                                                                expr [5642,5644]
                                                                                    name: pd [5642,5644]
                                                                            else [5645,5655]
                                                                                expr [5647,5655]
                                                                                    name [5647,5655]
                                                                                        name: devr [5647,5651]
                                                                                        operator: -> [5651,5653]
                                                                                        name: p0 [5653,5655]
                                                        operator: -> [5656,5658]
                                                        name: pdn [5658,5661]
                    else [5665,5713]
                        block [5672,5713]
                            block_content [5672,5713]
                                expr_stmt [5672,5713]
                                    expr [5672,5712]
                                        call [5672,5712]
                                            name: MLX5_SET [5672,5680]
                                            argument_list [5680,5712]
                                                argument [5681,5684]
                                                    expr [5681,5684]
                                                        name: qpc [5681,5684]
                                                argument [5686,5689]
                                                    expr [5686,5689]
                                                        name: qpc [5686,5689]
                                                argument [5691,5708]
                                                    expr [5691,5708]
                                                        name: latency_sensitive [5691,5708]
                                                argument [5710,5711]
                                                    expr [5710,5711]
                                                        literal: 1 [5710,5711]
                if_stmt [5717,5771]
                    if [5717,5771]
                        condition [5720,5732]
                            expr [5721,5731]
                                name [5721,5731]
                                    name: qp [5721,5723]
                                    operator: -> [5723,5725]
                                    name: wq_sig [5725,5731]
                        block [5735,5771]
                            block_content [5735,5771]
                                expr_stmt [5735,5771]
                                    expr [5735,5770]
                                        call [5735,5770]
                                            name: MLX5_SET [5735,5743]
                                            argument_list [5743,5770]
                                                argument [5744,5747]
                                                    expr [5744,5747]
                                                        name: qpc [5744,5747]
                                                argument [5749,5752]
                                                    expr [5749,5752]
                                                        name: qpc [5749,5752]
                                                argument [5754,5766]
                                                    expr [5754,5766]
                                                        name: wq_signature [5754,5766]
                                                argument [5768,5769]
                                                    expr [5768,5769]
                                                        literal: 1 [5768,5769]
                if_stmt [5774,5864]
                    if [5774,5864]
                        condition [5777,5826]
                            expr [5778,5825]
                                name [5778,5787]
                                    name: qp [5778,5780]
                                    operator: -> [5780,5782]
                                    name: flags [5782,5787]
                                operator: & [5788,5789]
                                name: MLX5_IB_QP_BLOCK_MULTICAST_LOOPBACK [5790,5825]
                        block [5829,5864]
                            block_content [5829,5864]
                                expr_stmt [5829,5864]
                                    expr [5829,5863]
                                        call [5829,5863]
                                            name: MLX5_SET [5829,5837]
                                            argument_list [5837,5863]
                                                argument [5838,5841]
                                                    expr [5838,5841]
                                                        name: qpc [5838,5841]
                                                argument [5843,5846]
                                                    expr [5843,5846]
                                                        name: qpc [5843,5846]
                                                argument [5848,5859]
                                                    expr [5848,5859]
                                                        name: block_lb_mc [5848,5859]
                                                argument [5861,5862]
                                                    expr [5861,5862]
                                                        literal: 1 [5861,5862]
                if_stmt [5867,5944]
                    if [5867,5944]
                        condition [5870,5908]
                            expr [5871,5907]
                                name [5871,5880]
                                    name: qp [5871,5873]
                                    operator: -> [5873,5875]
                                    name: flags [5875,5880]
                                operator: & [5881,5882]
                                name: MLX5_IB_QP_CROSS_CHANNEL [5883,5907]
                        block [5911,5944]
                            block_content [5911,5944]
                                expr_stmt [5911,5944]
                                    expr [5911,5943]
                                        call [5911,5943]
                                            name: MLX5_SET [5911,5919]
                                            argument_list [5919,5943]
                                                argument [5920,5923]
                                                    expr [5920,5923]
                                                        name: qpc [5920,5923]
                                                argument [5925,5928]
                                                    expr [5925,5928]
                                                        name: qpc [5925,5928]
                                                argument [5930,5939]
                                                    expr [5930,5939]
                                                        name: cd_master [5930,5939]
                                                argument [5941,5942]
                                                    expr [5941,5942]
                                                        literal: 1 [5941,5942]
                if_stmt [5946,6026]
                    if [5946,6026]
                        condition [5949,5986]
                            expr [5950,5985]
                                name [5950,5959]
                                    name: qp [5950,5952]
                                    operator: -> [5952,5954]
                                    name: flags [5954,5959]
                                operator: & [5960,5961]
                                name: MLX5_IB_QP_MANAGED_SEND [5962,5985]
                        block [5989,6026]
                            block_content [5989,6026]
                                expr_stmt [5989,6026]
                                    expr [5989,6025]
                                        call [5989,6025]
                                            name: MLX5_SET [5989,5997]
                                            argument_list [5997,6025]
                                                argument [5998,6001]
                                                    expr [5998,6001]
                                                        name: qpc [5998,6001]
                                                argument [6003,6006]
                                                    expr [6003,6006]
                                                        name: qpc [6003,6006]
                                                argument [6008,6021]
                                                    expr [6008,6021]
                                                        name: cd_slave_send [6008,6021]
                                                argument [6023,6024]
                                                    expr [6023,6024]
                                                        literal: 1 [6023,6024]
                if_stmt [6028,6111]
                    if [6028,6111]
                        condition [6031,6068]
                            expr [6032,6067]
                                name [6032,6041]
                                    name: qp [6032,6034]
                                    operator: -> [6034,6036]
                                    name: flags [6036,6041]
                                operator: & [6042,6043]
                                name: MLX5_IB_QP_MANAGED_RECV [6044,6067]
                        block [6071,6111]
                            block_content [6071,6111]
                                expr_stmt [6071,6111]
                                    expr [6071,6110]
                                        call [6071,6110]
                                            name: MLX5_SET [6071,6079]
                                            argument_list [6079,6110]
                                                argument [6080,6083]
                                                    expr [6080,6083]
                                                        name: qpc [6080,6083]
                                                argument [6085,6088]
                                                    expr [6085,6088]
                                                        name: qpc [6085,6088]
                                                argument [6090,6106]
                                                    expr [6090,6106]
                                                        name: cd_slave_receive [6090,6106]
                                                argument [6108,6109]
                                                    expr [6108,6109]
                                                        literal: 1 [6108,6109]
                if_stmt [6114,6669]
                    if [6114,6669]
                        condition [6117,6167]
                            expr [6118,6166]
                                name [6118,6130]
                                    name: qp [6118,6120]
                                    operator: -> [6120,6122]
                                    name: scat_cqe [6122,6130]
                                operator: && [6131,6133]
                                call [6134,6166]
                                    name: is_connected [6134,6146]
                                    argument_list [6146,6166]
                                        argument [6147,6165]
                                            expr [6147,6165]
                                                name [6147,6165]
                                                    name: init_attr [6147,6156]
                                                    operator: -> [6156,6158]
                                                    name: qp_type [6158,6165]
                        block [6168,6669]
                            block_content [6172,6666]
                                decl_stmt [6172,6184]
                                    decl [6172,6183]
                                        type [6172,6175]
                                            name: int [6172,6175]
                                        name: rcqe_sz [6176,6183]
                                decl_stmt [6187,6199]
                                    decl [6187,6198]
                                        type [6187,6190]
                                            name: int [6187,6190]
                                        name: scqe_sz [6191,6198]
                                expr_stmt [6203,6259]
                                    expr [6203,6258]
                                        name: rcqe_sz [6203,6210]
                                        operator: = [6211,6212]
                                        call [6213,6258]
                                            name: mlx5_ib_get_cqe_size [6213,6233]
                                            argument_list [6233,6258]
                                                argument [6234,6237]
                                                    expr [6234,6237]
                                                        name: dev [6234,6237]
                                                argument [6239,6257]
                                                    expr [6239,6257]
                                                        name [6239,6257]
                                                            name: init_attr [6239,6248]
                                                            operator: -> [6248,6250]
                                                            name: recv_cq [6250,6257]
                                expr_stmt [6262,6318]
                                    expr [6262,6317]
                                        name: scqe_sz [6262,6269]
                                        operator: = [6270,6271]
                                        call [6272,6317]
                                            name: mlx5_ib_get_cqe_size [6272,6292]
                                            argument_list [6292,6317]
                                                argument [6293,6296]
                                                    expr [6293,6296]
                                                        name: dev [6293,6296]
                                                argument [6298,6316]
                                                    expr [6298,6316]
                                                        name [6298,6316]
                                                            name: init_attr [6298,6307]
                                                            operator: -> [6307,6309]
                                                            name: send_cq [6309,6316]
                                if_stmt [6322,6462]
                                    if [6322,6398]
                                        condition [6325,6341]
                                            expr [6326,6340]
                                                name: rcqe_sz [6326,6333]
                                                operator: == [6334,6336]
                                                literal: 128 [6337,6340]
                                        block [6345,6398]
                                            block_content [6345,6398]
                                                expr_stmt [6345,6398]
                                                    expr [6345,6397]
                                                        call [6345,6397]
                                                            name: MLX5_SET [6345,6353]
                                                            argument_list [6353,6397]
                                                                argument [6354,6357]
                                                                    expr [6354,6357]
                                                                        name: qpc [6354,6357]
                                                                argument [6359,6362]
                                                                    expr [6359,6362]
                                                                        name: qpc [6359,6362]
                                                                argument [6364,6370]
                                                                    expr [6364,6370]
                                                                        name: cs_res [6364,6370]
                                                                argument [6372,6396]
                                                                    expr [6372,6396]
                                                                        name: MLX5_RES_SCAT_DATA64_CQE [6372,6396]
                                    else [6401,6462]
                                        block [6409,6462]
                                            block_content [6409,6462]
                                                expr_stmt [6409,6462]
                                                    expr [6409,6461]
                                                        call [6409,6461]
                                                            name: MLX5_SET [6409,6417]
                                                            argument_list [6417,6461]
                                                                argument [6418,6421]
                                                                    expr [6418,6421]
                                                                        name: qpc [6418,6421]
                                                                argument [6423,6426]
                                                                    expr [6423,6426]
                                                                        name: qpc [6423,6426]
                                                                argument [6428,6434]
                                                                    expr [6428,6434]
                                                                        name: cs_res [6428,6434]
                                                                argument [6436,6460]
                                                                    expr [6436,6460]
                                                                        name: MLX5_RES_SCAT_DATA32_CQE [6436,6460]
                                if_stmt [6466,6666]
                                    if [6466,6666]
                                        condition [6469,6513]
                                            expr [6470,6512]
                                                name [6470,6492]
                                                    name: init_attr [6470,6479]
                                                    operator: -> [6479,6481]
                                                    name: sq_sig_type [6481,6492]
                                                operator: == [6493,6495]
                                                name: IB_SIGNAL_ALL_WR [6496,6512]
                                        block [6514,6666]
                                            block_content [6519,6662]
                                                if_stmt [6519,6662]
                                                    if [6519,6596]
                                                        condition [6522,6538]
                                                            expr [6523,6537]
                                                                name: scqe_sz [6523,6530]
                                                                operator: == [6531,6533]
                                                                literal: 128 [6534,6537]
                                                        block [6543,6596]
                                                            block_content [6543,6596]
                                                                expr_stmt [6543,6596]
                                                                    expr [6543,6595]
                                                                        call [6543,6595]
                                                                            name: MLX5_SET [6543,6551]
                                                                            argument_list [6551,6595]
                                                                                argument [6552,6555]
                                                                                    expr [6552,6555]
                                                                                        name: qpc [6552,6555]
                                                                                argument [6557,6560]
                                                                                    expr [6557,6560]
                                                                                        name: qpc [6557,6560]
                                                                                argument [6562,6568]
                                                                                    expr [6562,6568]
                                                                                        name: cs_req [6562,6568]
                                                                                argument [6570,6594]
                                                                                    expr [6570,6594]
                                                                                        name: MLX5_REQ_SCAT_DATA64_CQE [6570,6594]
                                                    else [6600,6662]
                                                        block [6609,6662]
                                                            block_content [6609,6662]
                                                                expr_stmt [6609,6662]
                                                                    expr [6609,6661]
                                                                        call [6609,6661]
                                                                            name: MLX5_SET [6609,6617]
                                                                            argument_list [6617,6661]
                                                                                argument [6618,6621]
                                                                                    expr [6618,6621]
                                                                                        name: qpc [6618,6621]
                                                                                argument [6623,6626]
                                                                                    expr [6623,6626]
                                                                                        name: qpc [6623,6626]
                                                                                argument [6628,6634]
                                                                                    expr [6628,6634]
                                                                                        name: cs_req [6628,6634]
                                                                                argument [6636,6660]
                                                                                    expr [6636,6660]
                                                                                        name: MLX5_REQ_SCAT_DATA32_CQE [6636,6660]
                if_stmt [6672,6813]
                    if [6672,6813]
                        condition [6675,6691]
                            expr [6676,6690]
                                name [6676,6690]
                                    name: qp [6676,6678]
                                    operator: -> [6678,6680]
                                    name: rq [6680,6682]
                                    operator: . [6682,6683]
                                    name: wqe_cnt [6683,6690]
                        block [6692,6813]
                            block_content [6696,6810]
                                expr_stmt [6696,6752]
                                    expr [6696,6751]
                                        call [6696,6751]
                                            name: MLX5_SET [6696,6704]
                                            argument_list [6704,6751]
                                                argument [6705,6708]
                                                    expr [6705,6708]
                                                        name: qpc [6705,6708]
                                                argument [6710,6713]
                                                    expr [6710,6713]
                                                        name: qpc [6710,6713]
                                                argument [6715,6728]
                                                    expr [6715,6728]
                                                        name: log_rq_stride [6715,6728]
                                                argument [6730,6750]
                                                    expr [6730,6750]
                                                        name [6730,6746]
                                                            name: qp [6730,6732]
                                                            operator: -> [6732,6734]
                                                            name: rq [6734,6736]
                                                            operator: . [6736,6737]
                                                            name: wqe_shift [6737,6746]
                                                        operator: - [6747,6748]
                                                        literal: 4 [6749,6750]
                                expr_stmt [6755,6810]
                                    expr [6755,6809]
                                        call [6755,6809]
                                            name: MLX5_SET [6755,6763]
                                            argument_list [6763,6809]
                                                argument [6764,6767]
                                                    expr [6764,6767]
                                                        name: qpc [6764,6767]
                                                argument [6769,6772]
                                                    expr [6769,6772]
                                                        name: qpc [6769,6772]
                                                argument [6774,6785]
                                                    expr [6774,6785]
                                                        name: log_rq_size [6774,6785]
                                                argument [6787,6808]
                                                    expr [6787,6808]
                                                        call [6787,6808]
                                                            name: ilog2 [6787,6792]
                                                            argument_list [6792,6808]
                                                                argument [6793,6807]
                                                                    expr [6793,6807]
                                                                        name [6793,6807]
                                                                            name: qp [6793,6795]
                                                                            operator: -> [6795,6797]
                                                                            name: rq [6797,6799]
                                                                            operator: . [6799,6800]
                                                                            name: wqe_cnt [6800,6807]
                expr_stmt [6816,6872]
                    expr [6816,6871]
                        call [6816,6871]
                            name: MLX5_SET [6816,6824]
                            argument_list [6824,6871]
                                argument [6825,6828]
                                    expr [6825,6828]
                                        name: qpc [6825,6828]
                                argument [6830,6833]
                                    expr [6830,6833]
                                        name: qpc [6830,6833]
                                argument [6835,6842]
                                    expr [6835,6842]
                                        name: rq_type [6835,6842]
                                argument [6844,6870]
                                    expr [6844,6870]
                                        call [6844,6870]
                                            name: get_rx_type [6844,6855]
                                            argument_list [6855,6870]
                                                argument [6856,6858]
                                                    expr [6856,6858]
                                                        name: qp [6856,6858]
                                                argument [6860,6869]
                                                    expr [6860,6869]
                                                        name: init_attr [6860,6869]
                if_stmt [6875,7139]
                    if [6875,6957]
                        condition [6878,6894]
                            expr [6879,6893]
                                name [6879,6893]
                                    name: qp [6879,6881]
                                    operator: -> [6881,6883]
                                    name: sq [6883,6885]
                                    operator: . [6885,6886]
                                    name: wqe_cnt [6886,6893]
                        block [6895,6957]
                            block_content [6899,6954]
                                expr_stmt [6899,6954]
                                    expr [6899,6953]
                                        call [6899,6953]
                                            name: MLX5_SET [6899,6907]
                                            argument_list [6907,6953]
                                                argument [6908,6911]
                                                    expr [6908,6911]
                                                        name: qpc [6908,6911]
                                                argument [6913,6916]
                                                    expr [6913,6916]
                                                        name: qpc [6913,6916]
                                                argument [6918,6929]
                                                    expr [6918,6929]
                                                        name: log_sq_size [6918,6929]
                                                argument [6931,6952]
                                                    expr [6931,6952]
                                                        call [6931,6952]
                                                            name: ilog2 [6931,6936]
                                                            argument_list [6936,6952]
                                                                argument [6937,6951]
                                                                    expr [6937,6951]
                                                                        name [6937,6951]
                                                                            name: qp [6937,6939]
                                                                            operator: -> [6939,6941]
                                                                            name: sq [6941,6943]
                                                                            operator: . [6943,6944]
                                                                            name: wqe_cnt [6944,6951]
                    else [6958,7139]
                        block [6963,7139]
                            block_content [6967,7136]
                                expr_stmt [6967,6996]
                                    expr [6967,6995]
                                        call [6967,6995]
                                            name: MLX5_SET [6967,6975]
                                            argument_list [6975,6995]
                                                argument [6976,6979]
                                                    expr [6976,6979]
                                                        name: qpc [6976,6979]
                                                argument [6981,6984]
                                                    expr [6981,6984]
                                                        name: qpc [6981,6984]
                                                argument [6986,6991]
                                                    expr [6986,6991]
                                                        name: no_sq [6986,6991]
                                                argument [6993,6994]
                                                    expr [6993,6994]
                                                        literal: 1 [6993,6994]
                                if_stmt [6999,7136]
                                    if [6999,7136]
                                        condition [7002,7066]
                                            expr [7003,7065]
                                                name [7003,7017]
                                                    name: init_attr [7003,7012]
                                                    operator: -> [7012,7014]
                                                    name: srq [7014,7017]
                                                operator: && [7018,7020]
                                                name [7027,7051]
                                                    name: init_attr [7027,7036]
                                                    operator: -> [7036,7038]
                                                    name: srq [7038,7041]
                                                    operator: -> [7041,7043]
                                                    name: srq_type [7043,7051]
                                                operator: == [7052,7054]
                                                name: IB_SRQT_TM [7055,7065]
                                        block [7070,7136]
                                            block_content [7070,7136]
                                                expr_stmt [7070,7136]
                                                    expr [7070,7135]
                                                        call [7070,7135]
                                                            name: MLX5_SET [7070,7078]
                                                            argument_list [7078,7135]
                                                                argument [7079,7082]
                                                                    expr [7079,7082]
                                                                        name: qpc [7079,7082]
                                                                argument [7084,7087]
                                                                    expr [7084,7087]
                                                                        name: qpc [7084,7087]
                                                                argument [7089,7101]
                                                                    expr [7089,7101]
                                                                        name: offload_type [7089,7101]
                                                                argument [7108,7134]
                                                                    expr [7108,7134]
                                                                        name: MLX5_QPC_OFFLOAD_TYPE_RNDV [7108,7134]
                comment: /* Set default resources */ [7142,7169]
                switch [7171,7997]
                    condition [7178,7198]
                        expr [7179,7197]
                            name [7179,7197]
                                name: init_attr [7179,7188]
                                operator: -> [7188,7190]
                                name: qp_type [7190,7197]
                    block [7199,7997]
                        block_content [7202,7994]
                            case [7202,7222]
                                expr [7207,7221]
                                    name: IB_QPT_XRC_TGT [7207,7221]
                            expr_stmt [7225,7280]
                                expr [7225,7279]
                                    call [7225,7279]
                                        name: MLX5_SET [7225,7233]
                                        argument_list [7233,7279]
                                            argument [7234,7237]
                                                expr [7234,7237]
                                                    name: qpc [7234,7237]
                                            argument [7239,7242]
                                                expr [7239,7242]
                                                    name: qpc [7239,7242]
                                            argument [7244,7251]
                                                expr [7244,7251]
                                                    name: cqn_rcv [7244,7251]
                                            argument [7253,7278]
                                                expr [7253,7278]
                                                    call [7253,7269]
                                                        name: to_mcq [7253,7259]
                                                        argument_list [7259,7269]
                                                            argument [7260,7268]
                                                                expr [7260,7268]
                                                                    name [7260,7268]
                                                                        name: devr [7260,7264]
                                                                        operator: -> [7264,7266]
                                                                        name: c0 [7266,7268]
                                                    operator: -> [7269,7271]
                                                    name [7271,7278]
                                                        name: mcq [7271,7274]
                                                        operator: . [7274,7275]
                                                        name: cqn [7275,7278]
                            expr_stmt [7283,7338]
                                expr [7283,7337]
                                    call [7283,7337]
                                        name: MLX5_SET [7283,7291]
                                        argument_list [7291,7337]
                                            argument [7292,7295]
                                                expr [7292,7295]
                                                    name: qpc [7292,7295]
                                            argument [7297,7300]
                                                expr [7297,7300]
                                                    name: qpc [7297,7300]
                                            argument [7302,7309]
                                                expr [7302,7309]
                                                    name: cqn_snd [7302,7309]
                                            argument [7311,7336]
                                                expr [7311,7336]
                                                    call [7311,7327]
                                                        name: to_mcq [7311,7317]
                                                        argument_list [7317,7327]
                                                            argument [7318,7326]
                                                                expr [7318,7326]
                                                                    name [7318,7326]
                                                                        name: devr [7318,7322]
                                                                        operator: -> [7322,7324]
                                                                        name: c0 [7324,7326]
                                                    operator: -> [7327,7329]
                                                    name [7329,7336]
                                                        name: mcq [7329,7332]
                                                        operator: . [7332,7333]
                                                        name: cqn [7333,7336]
                            expr_stmt [7341,7406]
                                expr [7341,7405]
                                    call [7341,7405]
                                        name: MLX5_SET [7341,7349]
                                        argument_list [7349,7405]
                                            argument [7350,7353]
                                                expr [7350,7353]
                                                    name: qpc [7350,7353]
                                            argument [7355,7358]
                                                expr [7355,7358]
                                                    name: qpc [7355,7358]
                                            argument [7360,7374]
                                                expr [7360,7374]
                                                    name: srqn_rmpn_xrqn [7360,7374]
                                            argument [7376,7404]
                                                expr [7376,7404]
                                                    call [7376,7393]
                                                        name: to_msrq [7376,7383]
                                                        argument_list [7383,7393]
                                                            argument [7384,7392]
                                                                expr [7384,7392]
                                                                    name [7384,7392]
                                                                        name: devr [7384,7388]
                                                                        operator: -> [7388,7390]
                                                                        name: s0 [7390,7392]
                                                    operator: -> [7393,7395]
                                                    name [7395,7404]
                                                        name: msrq [7395,7399]
                                                        operator: . [7399,7400]
                                                        name: srqn [7400,7404]
                            expr_stmt [7409,7468]
                                expr [7409,7467]
                                    call [7409,7467]
                                        name: MLX5_SET [7409,7417]
                                        argument_list [7417,7467]
                                            argument [7418,7421]
                                                expr [7418,7421]
                                                    name: qpc [7418,7421]
                                            argument [7423,7426]
                                                expr [7423,7426]
                                                    name: qpc [7423,7426]
                                            argument [7428,7432]
                                                expr [7428,7432]
                                                    name: xrcd [7428,7432]
                                            argument [7434,7466]
                                                expr [7434,7466]
                                                    call [7434,7459]
                                                        name: to_mxrcd [7434,7442]
                                                        argument_list [7442,7459]
                                                            argument [7443,7458]
                                                                expr [7443,7458]
                                                                    name [7443,7458]
                                                                        name: init_attr [7443,7452]
                                                                        operator: -> [7452,7454]
                                                                        name: xrcd [7454,7458]
                                                    operator: -> [7459,7461]
                                                    name: xrcdn [7461,7466]
                            break [7471,7477]
                            case [7479,7499]
                                expr [7484,7498]
                                    name: IB_QPT_XRC_INI [7484,7498]
                            expr_stmt [7502,7557]
                                expr [7502,7556]
                                    call [7502,7556]
                                        name: MLX5_SET [7502,7510]
                                        argument_list [7510,7556]
                                            argument [7511,7514]
                                                expr [7511,7514]
                                                    name: qpc [7511,7514]
                                            argument [7516,7519]
                                                expr [7516,7519]
                                                    name: qpc [7516,7519]
                                            argument [7521,7528]
                                                expr [7521,7528]
                                                    name: cqn_rcv [7521,7528]
                                            argument [7530,7555]
                                                expr [7530,7555]
                                                    call [7530,7546]
                                                        name: to_mcq [7530,7536]
                                                        argument_list [7536,7546]
                                                            argument [7537,7545]
                                                                expr [7537,7545]
                                                                    name [7537,7545]
                                                                        name: devr [7537,7541]
                                                                        operator: -> [7541,7543]
                                                                        name: c0 [7543,7545]
                                                    operator: -> [7546,7548]
                                                    name [7548,7555]
                                                        name: mcq [7548,7551]
                                                        operator: . [7551,7552]
                                                        name: cqn [7552,7555]
                            expr_stmt [7560,7612]
                                expr [7560,7611]
                                    call [7560,7611]
                                        name: MLX5_SET [7560,7568]
                                        argument_list [7568,7611]
                                            argument [7569,7572]
                                                expr [7569,7572]
                                                    name: qpc [7569,7572]
                                            argument [7574,7577]
                                                expr [7574,7577]
                                                    name: qpc [7574,7577]
                                            argument [7579,7583]
                                                expr [7579,7583]
                                                    name: xrcd [7579,7583]
                                            argument [7585,7610]
                                                expr [7585,7610]
                                                    call [7585,7603]
                                                        name: to_mxrcd [7585,7593]
                                                        argument_list [7593,7603]
                                                            argument [7594,7602]
                                                                expr [7594,7602]
                                                                    name [7594,7602]
                                                                        name: devr [7594,7598]
                                                                        operator: -> [7598,7600]
                                                                        name: x1 [7600,7602]
                                                    operator: -> [7603,7605]
                                                    name: xrcdn [7605,7610]
                            expr_stmt [7615,7680]
                                expr [7615,7679]
                                    call [7615,7679]
                                        name: MLX5_SET [7615,7623]
                                        argument_list [7623,7679]
                                            argument [7624,7627]
                                                expr [7624,7627]
                                                    name: qpc [7624,7627]
                                            argument [7629,7632]
                                                expr [7629,7632]
                                                    name: qpc [7629,7632]
                                            argument [7634,7648]
                                                expr [7634,7648]
                                                    name: srqn_rmpn_xrqn [7634,7648]
                                            argument [7650,7678]
                                                expr [7650,7678]
                                                    call [7650,7667]
                                                        name: to_msrq [7650,7657]
                                                        argument_list [7657,7667]
                                                            argument [7658,7666]
                                                                expr [7658,7666]
                                                                    name [7658,7666]
                                                                        name: devr [7658,7662]
                                                                        operator: -> [7662,7664]
                                                                        name: s0 [7664,7666]
                                                    operator: -> [7667,7669]
                                                    name [7669,7678]
                                                        name: msrq [7669,7673]
                                                        operator: . [7673,7674]
                                                        name: srqn [7674,7678]
                            break [7683,7689]
                            default [7691,7699]
                            if_stmt [7702,7994]
                                if [7702,7858]
                                    condition [7705,7721]
                                        expr [7706,7720]
                                            name [7706,7720]
                                                name: init_attr [7706,7715]
                                                operator: -> [7715,7717]
                                                name: srq [7717,7720]
                                    block [7722,7858]
                                        block_content [7727,7854]
                                            expr_stmt [7727,7779]
                                                expr [7727,7778]
                                                    call [7727,7778]
                                                        name: MLX5_SET [7727,7735]
                                                        argument_list [7735,7778]
                                                            argument [7736,7739]
                                                                expr [7736,7739]
                                                                    name: qpc [7736,7739]
                                                            argument [7741,7744]
                                                                expr [7741,7744]
                                                                    name: qpc [7741,7744]
                                                            argument [7746,7750]
                                                                expr [7746,7750]
                                                                    name: xrcd [7746,7750]
                                                            argument [7752,7777]
                                                                expr [7752,7777]
                                                                    call [7752,7770]
                                                                        name: to_mxrcd [7752,7760]
                                                                        argument_list [7760,7770]
                                                                            argument [7761,7769]
                                                                                expr [7761,7769]
                                                                                    name [7761,7769]
                                                                                        name: devr [7761,7765]
                                                                                        operator: -> [7765,7767]
                                                                                        name: x0 [7767,7769]
                                                                    operator: -> [7770,7772]
                                                                    name: xrcdn [7772,7777]
                                            expr_stmt [7783,7854]
                                                expr [7783,7853]
                                                    call [7783,7853]
                                                        name: MLX5_SET [7783,7791]
                                                        argument_list [7791,7853]
                                                            argument [7792,7795]
                                                                expr [7792,7795]
                                                                    name: qpc [7792,7795]
                                                            argument [7797,7800]
                                                                expr [7797,7800]
                                                                    name: qpc [7797,7800]
                                                            argument [7802,7816]
                                                                expr [7802,7816]
                                                                    name: srqn_rmpn_xrqn [7802,7816]
                                                            argument [7818,7852]
                                                                expr [7818,7852]
                                                                    call [7818,7841]
                                                                        name: to_msrq [7818,7825]
                                                                        argument_list [7825,7841]
                                                                            argument [7826,7840]
                                                                                expr [7826,7840]
                                                                                    name [7826,7840]
                                                                                        name: init_attr [7826,7835]
                                                                                        operator: -> [7835,7837]
                                                                                        name: srq [7837,7840]
                                                                    operator: -> [7841,7843]
                                                                    name [7843,7852]
                                                                        name: msrq [7843,7847]
                                                                        operator: . [7847,7848]
                                                                        name: srqn [7848,7852]
                                else [7859,7994]
                                    block [7864,7994]
                                        block_content [7869,7990]
                                            expr_stmt [7869,7921]
                                                expr [7869,7920]
                                                    call [7869,7920]
                                                        name: MLX5_SET [7869,7877]
                                                        argument_list [7877,7920]
                                                            argument [7878,7881]
                                                                expr [7878,7881]
                                                                    name: qpc [7878,7881]
                                                            argument [7883,7886]
                                                                expr [7883,7886]
                                                                    name: qpc [7883,7886]
                                                            argument [7888,7892]
                                                                expr [7888,7892]
                                                                    name: xrcd [7888,7892]
                                                            argument [7894,7919]
                                                                expr [7894,7919]
                                                                    call [7894,7912]
                                                                        name: to_mxrcd [7894,7902]
                                                                        argument_list [7902,7912]
                                                                            argument [7903,7911]
                                                                                expr [7903,7911]
                                                                                    name [7903,7911]
                                                                                        name: devr [7903,7907]
                                                                                        operator: -> [7907,7909]
                                                                                        name: x1 [7909,7911]
                                                                    operator: -> [7912,7914]
                                                                    name: xrcdn [7914,7919]
                                            expr_stmt [7925,7990]
                                                expr [7925,7989]
                                                    call [7925,7989]
                                                        name: MLX5_SET [7925,7933]
                                                        argument_list [7933,7989]
                                                            argument [7934,7937]
                                                                expr [7934,7937]
                                                                    name: qpc [7934,7937]
                                                            argument [7939,7942]
                                                                expr [7939,7942]
                                                                    name: qpc [7939,7942]
                                                            argument [7944,7958]
                                                                expr [7944,7958]
                                                                    name: srqn_rmpn_xrqn [7944,7958]
                                                            argument [7960,7988]
                                                                expr [7960,7988]
                                                                    call [7960,7977]
                                                                        name: to_msrq [7960,7967]
                                                                        argument_list [7967,7977]
                                                                            argument [7968,7976]
                                                                                expr [7968,7976]
                                                                                    name [7968,7976]
                                                                                        name: devr [7968,7972]
                                                                                        operator: -> [7972,7974]
                                                                                        name: s1 [7974,7976]
                                                                    operator: -> [7977,7979]
                                                                    name [7979,7988]
                                                                        name: msrq [7979,7983]
                                                                        operator: . [7983,7984]
                                                                        name: srqn [7984,7988]
                if_stmt [8000,8091]
                    if [8000,8091]
                        condition [8003,8023]
                            expr [8004,8022]
                                name [8004,8022]
                                    name: init_attr [8004,8013]
                                    operator: -> [8013,8015]
                                    name: send_cq [8015,8022]
                        block [8026,8091]
                            block_content [8026,8091]
                                expr_stmt [8026,8091]
                                    expr [8026,8090]
                                        call [8026,8090]
                                            name: MLX5_SET [8026,8034]
                                            argument_list [8034,8090]
                                                argument [8035,8038]
                                                    expr [8035,8038]
                                                        name: qpc [8035,8038]
                                                argument [8040,8043]
                                                    expr [8040,8043]
                                                        name: qpc [8040,8043]
                                                argument [8045,8052]
                                                    expr [8045,8052]
                                                        name: cqn_snd [8045,8052]
                                                argument [8054,8089]
                                                    expr [8054,8089]
                                                        call [8054,8080]
                                                            name: to_mcq [8054,8060]
                                                            argument_list [8060,8080]
                                                                argument [8061,8079]
                                                                    expr [8061,8079]
                                                                        name [8061,8079]
                                                                            name: init_attr [8061,8070]
                                                                            operator: -> [8070,8072]
                                                                            name: send_cq [8072,8079]
                                                        operator: -> [8080,8082]
                                                        name [8082,8089]
                                                            name: mcq [8082,8085]
                                                            operator: . [8085,8086]
                                                            name: cqn [8086,8089]
                if_stmt [8094,8185]
                    if [8094,8185]
                        condition [8097,8117]
                            expr [8098,8116]
                                name [8098,8116]
                                    name: init_attr [8098,8107]
                                    operator: -> [8107,8109]
                                    name: recv_cq [8109,8116]
                        block [8120,8185]
                            block_content [8120,8185]
                                expr_stmt [8120,8185]
                                    expr [8120,8184]
                                        call [8120,8184]
                                            name: MLX5_SET [8120,8128]
                                            argument_list [8128,8184]
                                                argument [8129,8132]
                                                    expr [8129,8132]
                                                        name: qpc [8129,8132]
                                                argument [8134,8137]
                                                    expr [8134,8137]
                                                        name: qpc [8134,8137]
                                                argument [8139,8146]
                                                    expr [8139,8146]
                                                        name: cqn_rcv [8139,8146]
                                                argument [8148,8183]
                                                    expr [8148,8183]
                                                        call [8148,8174]
                                                            name: to_mcq [8148,8154]
                                                            argument_list [8154,8174]
                                                                argument [8155,8173]
                                                                    expr [8155,8173]
                                                                        name [8155,8173]
                                                                            name: init_attr [8155,8164]
                                                                            operator: -> [8164,8166]
                                                                            name: recv_cq [8166,8173]
                                                        operator: -> [8174,8176]
                                                        name [8176,8183]
                                                            name: mcq [8176,8179]
                                                            operator: . [8179,8180]
                                                            name: cqn [8180,8183]
                expr_stmt [8188,8231]
                    expr [8188,8230]
                        call [8188,8230]
                            name: MLX5_SET64 [8188,8198]
                            argument_list [8198,8230]
                                argument [8199,8202]
                                    expr [8199,8202]
                                        name: qpc [8199,8202]
                                argument [8204,8207]
                                    expr [8204,8207]
                                        name: qpc [8204,8207]
                                argument [8209,8217]
                                    expr [8209,8217]
                                        name: dbr_addr [8209,8217]
                                argument [8219,8229]
                                    expr [8219,8229]
                                        name [8219,8229]
                                            name: qp [8219,8221]
                                            operator: -> [8221,8223]
                                            name: db [8223,8225]
                                            operator: . [8225,8226]
                                            name: dma [8226,8229]
                comment: /* 0xffffff means we ask to work with cqe version 0 */ [8234,8288]
                if_stmt [8290,8389]
                    if [8290,8389]
                        condition [8293,8349]
                            expr [8294,8348]
                                call [8294,8325]
                                    name: MLX5_CAP_GEN [8294,8306]
                                    argument_list [8306,8325]
                                        argument [8307,8311]
                                            expr [8307,8311]
                                                name: mdev [8307,8311]
                                        argument [8313,8324]
                                            expr [8313,8324]
                                                name: cqe_version [8313,8324]
                                operator: == [8326,8328]
                                name: MLX5_CQE_VERSION_V1 [8329,8348]
                        block [8352,8389]
                            block_content [8352,8389]
                                expr_stmt [8352,8389]
                                    expr [8352,8388]
                                        call [8352,8388]
                                            name: MLX5_SET [8352,8360]
                                            argument_list [8360,8388]
                                                argument [8361,8364]
                                                    expr [8361,8364]
                                                        name: qpc [8361,8364]
                                                argument [8366,8369]
                                                    expr [8366,8369]
                                                        name: qpc [8366,8369]
                                                argument [8371,8381]
                                                    expr [8371,8381]
                                                        name: user_index [8371,8381]
                                                argument [8383,8387]
                                                    expr [8383,8387]
                                                        name: uidx [8383,8387]
                comment: /* we use IB_QP_CREATE_IPOIB_UD_LSO to indicates ipoib qp */ [8392,8452]
                if_stmt [8454,8641]
                    if [8454,8641]
                        condition [8457,8552]
                            expr [8458,8551]
                                name [8458,8476]
                                    name: init_attr [8458,8467]
                                    operator: -> [8467,8469]
                                    name: qp_type [8469,8476]
                                operator: == [8477,8479]
                                name: IB_QPT_UD [8480,8489]
                                operator: && [8490,8492]
                                operator: ( [8498,8499]
                                name [8499,8522]
                                    name: init_attr [8499,8508]
                                    operator: -> [8508,8510]
                                    name: create_flags [8510,8522]
                                operator: & [8523,8524]
                                name: IB_QP_CREATE_IPOIB_UD_LSO [8525,8550]
                                operator: ) [8550,8551]
                        block [8553,8641]
                            block_content [8557,8638]
                                expr_stmt [8557,8607]
                                    expr [8557,8606]
                                        call [8557,8606]
                                            name: MLX5_SET [8557,8565]
                                            argument_list [8565,8606]
                                                argument [8566,8569]
                                                    expr [8566,8569]
                                                        name: qpc [8566,8569]
                                                argument [8571,8574]
                                                    expr [8571,8574]
                                                        name: qpc [8571,8574]
                                                argument [8576,8602]
                                                    expr [8576,8602]
                                                        name: ulp_stateless_offload_mode [8576,8602]
                                                argument [8604,8605]
                                                    expr [8604,8605]
                                                        literal: 1 [8604,8605]
                                expr_stmt [8610,8638]
                                    expr [8610,8637]
                                        name [8610,8619]
                                            name: qp [8610,8612]
                                            operator: -> [8612,8614]
                                            name: flags [8614,8619]
                                        operator: |= [8620,8622]
                                        name: MLX5_IB_QP_LSO [8623,8637]
                if_stmt [8644,9050]
                    if [8644,9050]
                        condition [8647,8709]
                            expr [8648,8708]
                                name [8648,8671]
                                    name: init_attr [8648,8657]
                                    operator: -> [8657,8659]
                                    name: create_flags [8659,8671]
                                operator: & [8672,8673]
                                name: IB_QP_CREATE_PCI_WRITE_END_PADDING [8674,8708]
                        block [8710,9050]
                            block_content [8714,9047]
                                if_stmt [8714,9047]
                                    if [8714,8856]
                                        condition [8717,8752]
                                            expr [8718,8751]
                                                operator: ! [8718,8719]
                                                call [8719,8751]
                                                    name: MLX5_CAP_GEN [8719,8731]
                                                    argument_list [8731,8751]
                                                        argument [8732,8741]
                                                            expr [8732,8741]
                                                                name [8732,8741]
                                                                    name: dev [8732,8735]
                                                                    operator: -> [8735,8737]
                                                                    name: mdev [8737,8741]
                                                        argument [8743,8750]
                                                            expr [8743,8750]
                                                                name: end_pad [8743,8750]
                                        block [8753,8856]
                                            block_content [8758,8852]
                                                expr_stmt [8758,8817]
                                                    expr [8758,8816]
                                                        call [8758,8816]
                                                            name: mlx5_ib_dbg [8758,8769]
                                                            argument_list [8769,8816]
                                                                argument [8770,8773]
                                                                    expr [8770,8773]
                                                                        name: dev [8770,8773]
                                                                argument [8775,8815]
                                                                    expr [8775,8815]
                                                                        literal: "scatter end padding is not supported\n" [8775,8815]
                                                expr_stmt [8821,8839]
                                                    expr [8821,8838]
                                                        name: err [8821,8824]
                                                        operator: = [8825,8826]
                                                        operator: - [8827,8828]
                                                        name: EOPNOTSUPP [8828,8838]
                                                goto [8843,8852]
                                                    name: err [8848,8851]
                                    if [8857,8986]
                                        condition [8865,8906]
                                            expr [8866,8905]
                                                name [8866,8884]
                                                    name: init_attr [8866,8875]
                                                    operator: -> [8875,8877]
                                                    name: qp_type [8877,8884]
                                                operator: != [8885,8887]
                                                name: IB_QPT_RAW_PACKET [8888,8905]
                                        block [8907,8986]
                                            block_content [8912,8982]
                                                expr_stmt [8912,8982]
                                                    expr [8912,8981]
                                                        call [8912,8981]
                                                            name: MLX5_SET [8912,8920]
                                                            argument_list [8920,8981]
                                                                argument [8921,8924]
                                                                    expr [8921,8924]
                                                                        name: qpc [8921,8924]
                                                                argument [8926,8929]
                                                                    expr [8926,8929]
                                                                        name: qpc [8926,8929]
                                                                argument [8931,8947]
                                                                    expr [8931,8947]
                                                                        name: end_padding_mode [8931,8947]
                                                                argument [8954,8980]
                                                                    expr [8954,8980]
                                                                        name: MLX5_WQ_END_PAD_MODE_ALIGN [8954,8980]
                                    else [8987,9047]
                                        block [8992,9047]
                                            block_content [8997,9043]
                                                expr_stmt [8997,9043]
                                                    expr [8997,9042]
                                                        name [8997,9006]
                                                            name: qp [8997,8999]
                                                            operator: -> [8999,9001]
                                                            name: flags [9001,9006]
                                                        operator: |= [9007,9009]
                                                        name: MLX5_IB_QP_PCI_WRITE_END_PADDING [9010,9042]
                if_stmt [9053,9101]
                    if [9053,9101]
                        condition [9056,9067]
                            expr [9057,9066]
                                name: inlen [9057,9062]
                                operator: < [9063,9064]
                                literal: 0 [9065,9066]
                        block [9068,9101]
                            block_content [9072,9098]
                                expr_stmt [9072,9086]
                                    expr [9072,9085]
                                        name: err [9072,9075]
                                        operator: = [9076,9077]
                                        operator: - [9078,9079]
                                        name: EINVAL [9079,9085]
                                goto [9089,9098]
                                    name: err [9094,9097]
                if_stmt [9104,9431]
                    if [9104,9358]
                        condition [9107,9188]
                            expr [9108,9187]
                                name [9108,9126]
                                    name: init_attr [9108,9117]
                                    operator: -> [9117,9119]
                                    name: qp_type [9119,9126]
                                operator: == [9127,9129]
                                name: IB_QPT_RAW_PACKET [9130,9147]
                                operator: || [9148,9150]
                                name [9156,9165]
                                    name: qp [9156,9158]
                                    operator: -> [9158,9160]
                                    name: flags [9160,9165]
                                operator: & [9166,9167]
                                name: MLX5_IB_QP_UNDERLAY [9168,9187]
                        block [9189,9358]
                            block_content [9193,9355]
                                expr_stmt [9193,9250]
                                    expr [9193,9249]
                                        name [9193,9230]
                                            name: qp [9193,9195]
                                            operator: -> [9195,9197]
                                            name: raw_packet_qp [9197,9210]
                                            operator: . [9210,9211]
                                            name: sq [9211,9213]
                                            operator: . [9213,9214]
                                            name: ubuffer [9214,9221]
                                            operator: . [9221,9222]
                                            name: buf_addr [9222,9230]
                                        operator: = [9231,9232]
                                        name [9233,9249]
                                            name: ucmd [9233,9237]
                                            operator: . [9237,9238]
                                            name: sq_buf_addr [9238,9249]
                                expr_stmt [9253,9301]
                                    expr [9253,9300]
                                        call [9253,9300]
                                            name: raw_packet_qp_copy_info [9253,9276]
                                            argument_list [9276,9300]
                                                argument [9277,9279]
                                                    expr [9277,9279]
                                                        name: qp [9277,9279]
                                                argument [9281,9299]
                                                    expr [9281,9299]
                                                        operator: & [9281,9282]
                                                        name [9282,9299]
                                                            name: qp [9282,9284]
                                                            operator: -> [9284,9286]
                                                            name: raw_packet_qp [9286,9299]
                                expr_stmt [9304,9355]
                                    expr [9304,9354]
                                        name: err [9304,9307]
                                        operator: = [9308,9309]
                                        call [9310,9354]
                                            name: create_raw_packet_qp [9310,9330]
                                            argument_list [9330,9354]
                                                argument [9331,9334]
                                                    expr [9331,9334]
                                                        name: dev [9331,9334]
                                                argument [9336,9338]
                                                    expr [9336,9338]
                                                        name: qp [9336,9338]
                                                argument [9340,9342]
                                                    expr [9340,9342]
                                                        name: in [9340,9342]
                                                argument [9344,9349]
                                                    expr [9344,9349]
                                                        name: inlen [9344,9349]
                                                argument [9351,9353]
                                                    expr [9351,9353]
                                                        name: pd [9351,9353]
                    else [9359,9431]
                        block [9364,9431]
                            block_content [9368,9428]
                                expr_stmt [9368,9428]
                                    expr [9368,9427]
                                        name: err [9368,9371]
                                        operator: = [9372,9373]
                                        call [9374,9427]
                                            name: mlx5_core_create_qp [9374,9393]
                                            argument_list [9393,9427]
                                                argument [9394,9403]
                                                    expr [9394,9403]
                                                        name [9394,9403]
                                                            name: dev [9394,9397]
                                                            operator: -> [9397,9399]
                                                            name: mdev [9399,9403]
                                                argument [9405,9415]
                                                    expr [9405,9415]
                                                        operator: & [9405,9406]
                                                        name [9406,9415]
                                                            name: base [9406,9410]
                                                            operator: -> [9410,9412]
                                                            name: mqp [9412,9415]
                                                argument [9417,9419]
                                                    expr [9417,9419]
                                                        name: in [9417,9419]
                                                argument [9421,9426]
                                                    expr [9421,9426]
                                                        name: inlen [9421,9426]
                if_stmt [9434,9508]
                    if [9434,9508]
                        condition [9437,9442]
                            expr [9438,9441]
                                name: err [9438,9441]
                        block [9443,9508]
                            block_content [9447,9505]
                                expr_stmt [9447,9486]
                                    expr [9447,9485]
                                        call [9447,9485]
                                            name: mlx5_ib_dbg [9447,9458]
                                            argument_list [9458,9485]
                                                argument [9459,9462]
                                                    expr [9459,9462]
                                                        name: dev [9459,9462]
                                                argument [9464,9484]
                                                    expr [9464,9484]
                                                        literal: "create qp failed\n" [9464,9484]
                                goto [9489,9505]
                                    name: err_create [9494,9504]
                expr_stmt [9511,9522]
                    expr [9511,9521]
                        call [9511,9521]
                            name: kvfree [9511,9517]
                            argument_list [9517,9521]
                                argument [9518,9520]
                                    expr [9518,9520]
                                        name: in [9518,9520]
                expr_stmt [9525,9552]
                    expr [9525,9551]
                        name [9525,9546]
                            name: base [9525,9529]
                            operator: -> [9529,9531]
                            name: container_mibqp [9531,9546]
                        operator: = [9547,9548]
                        name: qp [9549,9551]
                expr_stmt [9554,9589]
                    expr [9554,9588]
                        name [9554,9569]
                            name: base [9554,9558]
                            operator: -> [9558,9560]
                            name: mqp [9560,9563]
                            operator: . [9563,9564]
                            name: event [9564,9569]
                        operator: = [9570,9571]
                        name: mlx5_ib_qp_event [9572,9588]
                expr_stmt [9592,9682]
                    expr [9592,9681]
                        call [9592,9681]
                            name: get_cqs [9592,9599]
                            argument_list [9599,9681]
                                argument [9600,9618]
                                    expr [9600,9618]
                                        name [9600,9618]
                                            name: init_attr [9600,9609]
                                            operator: -> [9609,9611]
                                            name: qp_type [9611,9618]
                                argument [9620,9638]
                                    expr [9620,9638]
                                        name [9620,9638]
                                            name: init_attr [9620,9629]
                                            operator: -> [9629,9631]
                                            name: send_cq [9631,9638]
                                argument [9640,9658]
                                    expr [9640,9658]
                                        name [9640,9658]
                                            name: init_attr [9640,9649]
                                            operator: -> [9649,9651]
                                            name: recv_cq [9651,9658]
                                argument [9662,9670]
                                    expr [9662,9670]
                                        operator: & [9662,9663]
                                        name: send_cq [9663,9670]
                                argument [9672,9680]
                                    expr [9672,9680]
                                        operator: & [9672,9673]
                                        name: recv_cq [9673,9680]
                expr_stmt [9684,9741]
                    expr [9684,9740]
                        call [9684,9740]
                            name: spin_lock_irqsave [9684,9701]
                            argument_list [9701,9740]
                                argument [9702,9732]
                                    expr [9702,9732]
                                        operator: & [9702,9703]
                                        name [9703,9732]
                                            name: dev [9703,9706]
                                            operator: -> [9706,9708]
                                            name: reset_flow_resource_lock [9708,9732]
                                argument [9734,9739]
                                    expr [9734,9739]
                                        name: flags [9734,9739]
                expr_stmt [9743,9778]
                    expr [9743,9777]
                        call [9743,9777]
                            name: mlx5_ib_lock_cqs [9743,9759]
                            argument_list [9759,9777]
                                argument [9760,9767]
                                    expr [9760,9767]
                                        name: send_cq [9760,9767]
                                argument [9769,9776]
                                    expr [9769,9776]
                                        name: recv_cq [9769,9776]
                comment: /* Maintain device to QPs access, needed for further handling via reset
	 * flow*/ [9780,9872]
                expr_stmt [9867,9911]
                    expr [9867,9910]
                        call [9867,9910]
                            name: list_add_tail [9867,9880]
                            argument_list [9880,9910]
                                argument [9881,9894]
                                    expr [9881,9894]
                                        operator: & [9881,9882]
                                        name [9882,9894]
                                            name: qp [9882,9884]
                                            operator: -> [9884,9886]
                                            name: qps_list [9886,9894]
                                argument [9896,9909]
                                    expr [9896,9909]
                                        operator: & [9896,9897]
                                        name [9897,9909]
                                            name: dev [9897,9900]
                                            operator: -> [9900,9902]
                                            name: qp_list [9902,9909]
                comment: /* Maintain CQ to QPs access, needed for further handling via reset flow
	 */ [9913,9997]
                if_stmt [9992,10064]
                    if [9992,10064]
                        condition [9995,10004]
                            expr [9996,10003]
                                name: send_cq [9996,10003]
                        block [10007,10064]
                            block_content [10007,10064]
                                expr_stmt [10007,10064]
                                    expr [10007,10063]
                                        call [10007,10063]
                                            name: list_add_tail [10007,10020]
                                            argument_list [10020,10063]
                                                argument [10021,10038]
                                                    expr [10021,10038]
                                                        operator: & [10021,10022]
                                                        name [10022,10038]
                                                            name: qp [10022,10024]
                                                            operator: -> [10024,10026]
                                                            name: cq_send_list [10026,10038]
                                                argument [10040,10062]
                                                    expr [10040,10062]
                                                        operator: & [10040,10041]
                                                        name [10041,10062]
                                                            name: send_cq [10041,10048]
                                                            operator: -> [10048,10050]
                                                            name: list_send_qp [10050,10062]
                if_stmt [10066,10138]
                    if [10066,10138]
                        condition [10069,10078]
                            expr [10070,10077]
                                name: recv_cq [10070,10077]
                        block [10081,10138]
                            block_content [10081,10138]
                                expr_stmt [10081,10138]
                                    expr [10081,10137]
                                        call [10081,10137]
                                            name: list_add_tail [10081,10094]
                                            argument_list [10094,10137]
                                                argument [10095,10112]
                                                    expr [10095,10112]
                                                        operator: & [10095,10096]
                                                        name [10096,10112]
                                                            name: qp [10096,10098]
                                                            operator: -> [10098,10100]
                                                            name: cq_recv_list [10100,10112]
                                                argument [10114,10136]
                                                    expr [10114,10136]
                                                        operator: & [10114,10115]
                                                        name [10115,10136]
                                                            name: recv_cq [10115,10122]
                                                            operator: -> [10122,10124]
                                                            name: list_recv_qp [10124,10136]
                expr_stmt [10140,10177]
                    expr [10140,10176]
                        call [10140,10176]
                            name: mlx5_ib_unlock_cqs [10140,10158]
                            argument_list [10158,10176]
                                argument [10159,10166]
                                    expr [10159,10166]
                                        name: send_cq [10159,10166]
                                argument [10168,10175]
                                    expr [10168,10175]
                                        name: recv_cq [10168,10175]
                expr_stmt [10179,10241]
                    expr [10179,10240]
                        call [10179,10240]
                            name: spin_unlock_irqrestore [10179,10201]
                            argument_list [10201,10240]
                                argument [10202,10232]
                                    expr [10202,10232]
                                        operator: & [10202,10203]
                                        name [10203,10232]
                                            name: dev [10203,10206]
                                            operator: -> [10206,10208]
                                            name: reset_flow_resource_lock [10208,10232]
                                argument [10234,10239]
                                    expr [10234,10239]
                                        name: flags [10234,10239]
                return [10244,10253]
                    expr [10251,10252]
                        literal: 0 [10251,10252]
                label [10255,10266]
                    name: err_create [10255,10265]
                if_stmt [10268,10417]
                    if [10268,10342]
                        condition [10271,10304]
                            expr [10272,10303]
                                name [10272,10287]
                                    name: qp [10272,10274]
                                    operator: -> [10274,10276]
                                    name: create_type [10276,10287]
                                operator: == [10288,10290]
                                name: MLX5_QP_USER [10291,10303]
                        block [10307,10342]
                            block_content [10307,10342]
                                expr_stmt [10307,10342]
                                    expr [10307,10341]
                                        call [10307,10341]
                                            name: destroy_qp_user [10307,10322]
                                            argument_list [10322,10341]
                                                argument [10323,10326]
                                                    expr [10323,10326]
                                                        name: dev [10323,10326]
                                                argument [10328,10330]
                                                    expr [10328,10330]
                                                        name: pd [10328,10330]
                                                argument [10332,10334]
                                                    expr [10332,10334]
                                                        name: qp [10332,10334]
                                                argument [10336,10340]
                                                    expr [10336,10340]
                                                        name: base [10336,10340]
                    if [10344,10417]
                        condition [10352,10387]
                            expr [10353,10386]
                                name [10353,10368]
                                    name: qp [10353,10355]
                                    operator: -> [10355,10357]
                                    name: create_type [10357,10368]
                                operator: == [10369,10371]
                                name: MLX5_QP_KERNEL [10372,10386]
                        block [10390,10417]
                            block_content [10390,10417]
                                expr_stmt [10390,10417]
                                    expr [10390,10416]
                                        call [10390,10416]
                                            name: destroy_qp_kernel [10390,10407]
                                            argument_list [10407,10416]
                                                argument [10408,10411]
                                                    expr [10408,10411]
                                                        name: dev [10408,10411]
                                                argument [10413,10415]
                                                    expr [10413,10415]
                                                        name: qp [10413,10415]
                label [10419,10423]
                    name: err [10419,10422]
                expr_stmt [10425,10436]
                    expr [10425,10435]
                        call [10425,10435]
                            name: kvfree [10425,10431]
                            argument_list [10431,10435]
                                argument [10432,10434]
                                    expr [10432,10434]
                                        name: in [10432,10434]
                return [10438,10449]
                    expr [10445,10448]
                        name: err [10445,10448]