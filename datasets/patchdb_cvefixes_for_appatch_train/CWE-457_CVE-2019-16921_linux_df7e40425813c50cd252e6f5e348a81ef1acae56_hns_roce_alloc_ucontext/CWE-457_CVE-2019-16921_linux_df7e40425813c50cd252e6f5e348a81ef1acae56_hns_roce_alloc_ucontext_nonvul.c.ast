unit [0,0]
    function [0,887]
        type [0,27]
            specifier: static [0,6]
            name [7,25]
                name: struct [7,13]
                name: ib_ucontext [14,25]
            modifier: * [26,27]
        name: hns_roce_alloc_ucontext [27,50]
        parameter_list [50,109]
            parameter [51,75]
                decl [51,75]
                    type [51,75]
                        name [51,67]
                            name: struct [51,57]
                            name: ib_device [58,67]
                        modifier: * [68,69]
                    name: ib_dev [69,75]
            parameter [86,108]
                decl [86,108]
                    type [86,108]
                        name [86,101]
                            name: struct [86,92]
                            name: ib_udata [93,101]
                        modifier: * [102,103]
                    name: udata [103,108]
        block [110,887]
            block_content [113,885]
                decl_stmt [113,125]
                    decl [113,124]
                        type [113,116]
                            name: int [113,116]
                        name: ret [117,120]
                        init [121,124]
                            expr [123,124]
                                literal: 0 [123,124]
                decl_stmt [127,161]
                    decl [127,160]
                        type [127,153]
                            name [127,151]
                                name: struct [127,133]
                                name: hns_roce_ucontext [134,151]
                            modifier: * [152,153]
                        name: context [153,160]
                decl_stmt [163,212]
                    decl [163,211]
                        type [163,201]
                            name [163,201]
                                name: struct [163,169]
                                name: hns_roce_ib_alloc_ucontext_resp [170,201]
                        name: resp [202,206]
                        init [207,211]
                            expr [209,211]
                                block [209,211]
                decl_stmt [214,262]
                    decl [214,261]
                        type [214,235]
                            name [214,233]
                                name: struct [214,220]
                                name: hns_roce_dev [221,233]
                            modifier: * [234,235]
                        name: hr_dev [235,241]
                        init [242,261]
                            expr [244,261]
                                call [244,261]
                                    name: to_hr_dev [244,253]
                                    argument_list [253,261]
                                        argument [254,260]
                                            expr [254,260]
                                                name: ib_dev [254,260]
                expr_stmt [265,305]
                    expr [265,304]
                        name [265,281]
                            name: resp [265,269]
                            operator: . [269,270]
                            name: qp_tab_size [270,281]
                        operator: = [282,283]
                        name [284,304]
                            name: hr_dev [284,290]
                            operator: -> [290,292]
                            name: caps [292,296]
                            operator: . [296,297]
                            name: num_qps [297,304]
                expr_stmt [308,356]
                    expr [308,355]
                        name: context [308,315]
                        operator: = [316,317]
                        call [318,355]
                            name: kmalloc [318,325]
                            argument_list [325,355]
                                argument [326,342]
                                    expr [326,342]
                                        sizeof [326,342]
                                            argument_list [332,342]
                                                argument [333,341]
                                                    expr [333,341]
                                                        operator: * [333,334]
                                                        name: context [334,341]
                                argument [344,354]
                                    expr [344,354]
                                        name: GFP_KERNEL [344,354]
                if_stmt [358,398]
                    if [358,398]
                        condition [361,371]
                            expr [362,370]
                                operator: ! [362,363]
                                name: context [363,370]
                        block [374,398]
                            block_content [374,398]
                                return [374,398]
                                    expr [381,397]
                                        call [381,397]
                                            name: ERR_PTR [381,388]
                                            argument_list [388,397]
                                                argument [389,396]
                                                    expr [389,396]
                                                        operator: - [389,390]
                                                        name: ENOMEM [390,396]
                expr_stmt [401,449]
                    expr [401,448]
                        name: ret [401,404]
                        operator: = [405,406]
                        call [407,448]
                            name: hns_roce_uar_alloc [407,425]
                            argument_list [425,448]
                                argument [426,432]
                                    expr [426,432]
                                        name: hr_dev [426,432]
                                argument [434,447]
                                    expr [434,447]
                                        operator: & [434,435]
                                        name [435,447]
                                            name: context [435,442]
                                            operator: -> [442,444]
                                            name: uar [444,447]
                if_stmt [451,488]
                    if [451,488]
                        condition [454,459]
                            expr [455,458]
                                name: ret [455,458]
                        block [462,488]
                            block_content [462,488]
                                goto [462,488]
                                    name: error_fail_uar_alloc [467,487]
                if_stmt [491,624]
                    if [491,624]
                        condition [494,544]
                            expr [495,543]
                                name [495,513]
                                    name: hr_dev [495,501]
                                    operator: -> [501,503]
                                    name: caps [503,507]
                                    operator: . [507,508]
                                    name: flags [508,513]
                                operator: & [514,515]
                                name: HNS_ROCE_CAP_FLAG_RECORD_DB [516,543]
                        block [545,624]
                            block_content [549,621]
                                expr_stmt [549,585]
                                    expr [549,584]
                                        call [549,584]
                                            name: INIT_LIST_HEAD [549,563]
                                            argument_list [563,584]
                                                argument [564,583]
                                                    expr [564,583]
                                                        operator: & [564,565]
                                                        name [565,583]
                                                            name: context [565,572]
                                                            operator: -> [572,574]
                                                            name: page_list [574,583]
                                expr_stmt [588,621]
                                    expr [588,620]
                                        call [588,620]
                                            name: mutex_init [588,598]
                                            argument_list [598,620]
                                                argument [599,619]
                                                    expr [599,619]
                                                        operator: & [599,600]
                                                        name [600,619]
                                                            name: context [600,607]
                                                            operator: -> [607,609]
                                                            name: page_mutex [609,619]
                expr_stmt [627,678]
                    expr [627,677]
                        name: ret [627,630]
                        operator: = [631,632]
                        call [633,677]
                            name: ib_copy_to_udata [633,649]
                            argument_list [649,677]
                                argument [650,655]
                                    expr [650,655]
                                        name: udata [650,655]
                                argument [657,662]
                                    expr [657,662]
                                        operator: & [657,658]
                                        name: resp [658,662]
                                argument [664,676]
                                    expr [664,676]
                                        sizeof [664,676]
                                            argument_list [670,676]
                                                argument [671,675]
                                                    expr [671,675]
                                                        name: resp [671,675]
                if_stmt [680,721]
                    if [680,721]
                        condition [683,688]
                            expr [684,687]
                                name: ret [684,687]
                        block [691,721]
                            block_content [691,721]
                                goto [691,721]
                                    name: error_fail_copy_to_udata [696,720]
                return [724,752]
                    expr [731,751]
                        operator: & [731,732]
                        name [732,751]
                            name: context [732,739]
                            operator: -> [739,741]
                            name: ibucontext [741,751]
                label [754,779]
                    name: error_fail_copy_to_udata [754,778]
                expr_stmt [781,822]
                    expr [781,821]
                        call [781,821]
                            name: hns_roce_uar_free [781,798]
                            argument_list [798,821]
                                argument [799,805]
                                    expr [799,805]
                                        name: hr_dev [799,805]
                                argument [807,820]
                                    expr [807,820]
                                        operator: & [807,808]
                                        name [808,820]
                                            name: context [808,815]
                                            operator: -> [815,817]
                                            name: uar [817,820]
                label [824,845]
                    name: error_fail_uar_alloc [824,844]
                expr_stmt [847,862]
                    expr [847,861]
                        call [847,861]
                            name: kfree [847,852]
                            argument_list [852,861]
                                argument [853,860]
                                    expr [853,860]
                                        name: context [853,860]
                return [865,885]
                    expr [872,884]
                        call [872,884]
                            name: ERR_PTR [872,879]
                            argument_list [879,884]
                                argument [880,883]
                                    expr [880,883]
                                        name: ret [880,883]