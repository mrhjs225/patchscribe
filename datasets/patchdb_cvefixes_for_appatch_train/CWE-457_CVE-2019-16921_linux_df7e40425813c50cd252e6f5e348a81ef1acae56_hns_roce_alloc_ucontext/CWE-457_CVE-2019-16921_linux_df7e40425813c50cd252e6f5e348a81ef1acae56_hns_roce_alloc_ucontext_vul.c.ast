unit [0,0]
    function [0,882]
        type [0,27]
            specifier: static [0,6]
            name [7,25]
                name: struct [7,13]
                name: ib_ucontext [14,25]
            modifier: * [26,27]
        name: hns_roce_alloc_ucontext [27,50]
        parameter_list [50,109]
            parameter [51,75]
                decl [51,75]
                    type [51,75]
                        name [51,67]
                            name: struct [51,57]
                            name: ib_device [58,67]
                        modifier: * [68,69]
                    name: ib_dev [69,75]
            parameter [86,108]
                decl [86,108]
                    type [86,108]
                        name [86,101]
                            name: struct [86,92]
                            name: ib_udata [93,101]
                        modifier: * [102,103]
                    name: udata [103,108]
        block [110,882]
            block_content [113,880]
                decl_stmt [113,125]
                    decl [113,124]
                        type [113,116]
                            name: int [113,116]
                        name: ret [117,120]
                        init [121,124]
                            expr [123,124]
                                literal: 0 [123,124]
                decl_stmt [127,161]
                    decl [127,160]
                        type [127,153]
                            name [127,151]
                                name: struct [127,133]
                                name: hns_roce_ucontext [134,151]
                            modifier: * [152,153]
                        name: context [153,160]
                decl_stmt [163,207]
                    decl [163,206]
                        type [163,201]
                            name [163,201]
                                name: struct [163,169]
                                name: hns_roce_ib_alloc_ucontext_resp [170,201]
                        name: resp [202,206]
                decl_stmt [209,257]
                    decl [209,256]
                        type [209,230]
                            name [209,228]
                                name: struct [209,215]
                                name: hns_roce_dev [216,228]
                            modifier: * [229,230]
                        name: hr_dev [230,236]
                        init [237,256]
                            expr [239,256]
                                call [239,256]
                                    name: to_hr_dev [239,248]
                                    argument_list [248,256]
                                        argument [249,255]
                                            expr [249,255]
                                                name: ib_dev [249,255]
                expr_stmt [260,300]
                    expr [260,299]
                        name [260,276]
                            name: resp [260,264]
                            operator: . [264,265]
                            name: qp_tab_size [265,276]
                        operator: = [277,278]
                        name [279,299]
                            name: hr_dev [279,285]
                            operator: -> [285,287]
                            name: caps [287,291]
                            operator: . [291,292]
                            name: num_qps [292,299]
                expr_stmt [303,351]
                    expr [303,350]
                        name: context [303,310]
                        operator: = [311,312]
                        call [313,350]
                            name: kmalloc [313,320]
                            argument_list [320,350]
                                argument [321,337]
                                    expr [321,337]
                                        sizeof [321,337]
                                            argument_list [327,337]
                                                argument [328,336]
                                                    expr [328,336]
                                                        operator: * [328,329]
                                                        name: context [329,336]
                                argument [339,349]
                                    expr [339,349]
                                        name: GFP_KERNEL [339,349]
                if_stmt [353,393]
                    if [353,393]
                        condition [356,366]
                            expr [357,365]
                                operator: ! [357,358]
                                name: context [358,365]
                        block [369,393]
                            block_content [369,393]
                                return [369,393]
                                    expr [376,392]
                                        call [376,392]
                                            name: ERR_PTR [376,383]
                                            argument_list [383,392]
                                                argument [384,391]
                                                    expr [384,391]
                                                        operator: - [384,385]
                                                        name: ENOMEM [385,391]
                expr_stmt [396,444]
                    expr [396,443]
                        name: ret [396,399]
                        operator: = [400,401]
                        call [402,443]
                            name: hns_roce_uar_alloc [402,420]
                            argument_list [420,443]
                                argument [421,427]
                                    expr [421,427]
                                        name: hr_dev [421,427]
                                argument [429,442]
                                    expr [429,442]
                                        operator: & [429,430]
                                        name [430,442]
                                            name: context [430,437]
                                            operator: -> [437,439]
                                            name: uar [439,442]
                if_stmt [446,483]
                    if [446,483]
                        condition [449,454]
                            expr [450,453]
                                name: ret [450,453]
                        block [457,483]
                            block_content [457,483]
                                goto [457,483]
                                    name: error_fail_uar_alloc [462,482]
                if_stmt [486,619]
                    if [486,619]
                        condition [489,539]
                            expr [490,538]
                                name [490,508]
                                    name: hr_dev [490,496]
                                    operator: -> [496,498]
                                    name: caps [498,502]
                                    operator: . [502,503]
                                    name: flags [503,508]
                                operator: & [509,510]
                                name: HNS_ROCE_CAP_FLAG_RECORD_DB [511,538]
                        block [540,619]
                            block_content [544,616]
                                expr_stmt [544,580]
                                    expr [544,579]
                                        call [544,579]
                                            name: INIT_LIST_HEAD [544,558]
                                            argument_list [558,579]
                                                argument [559,578]
                                                    expr [559,578]
                                                        operator: & [559,560]
                                                        name [560,578]
                                                            name: context [560,567]
                                                            operator: -> [567,569]
                                                            name: page_list [569,578]
                                expr_stmt [583,616]
                                    expr [583,615]
                                        call [583,615]
                                            name: mutex_init [583,593]
                                            argument_list [593,615]
                                                argument [594,614]
                                                    expr [594,614]
                                                        operator: & [594,595]
                                                        name [595,614]
                                                            name: context [595,602]
                                                            operator: -> [602,604]
                                                            name: page_mutex [604,614]
                expr_stmt [622,673]
                    expr [622,672]
                        name: ret [622,625]
                        operator: = [626,627]
                        call [628,672]
                            name: ib_copy_to_udata [628,644]
                            argument_list [644,672]
                                argument [645,650]
                                    expr [645,650]
                                        name: udata [645,650]
                                argument [652,657]
                                    expr [652,657]
                                        operator: & [652,653]
                                        name: resp [653,657]
                                argument [659,671]
                                    expr [659,671]
                                        sizeof [659,671]
                                            argument_list [665,671]
                                                argument [666,670]
                                                    expr [666,670]
                                                        name: resp [666,670]
                if_stmt [675,716]
                    if [675,716]
                        condition [678,683]
                            expr [679,682]
                                name: ret [679,682]
                        block [686,716]
                            block_content [686,716]
                                goto [686,716]
                                    name: error_fail_copy_to_udata [691,715]
                return [719,747]
                    expr [726,746]
                        operator: & [726,727]
                        name [727,746]
                            name: context [727,734]
                            operator: -> [734,736]
                            name: ibucontext [736,746]
                label [749,774]
                    name: error_fail_copy_to_udata [749,773]
                expr_stmt [776,817]
                    expr [776,816]
                        call [776,816]
                            name: hns_roce_uar_free [776,793]
                            argument_list [793,816]
                                argument [794,800]
                                    expr [794,800]
                                        name: hr_dev [794,800]
                                argument [802,815]
                                    expr [802,815]
                                        operator: & [802,803]
                                        name [803,815]
                                            name: context [803,810]
                                            operator: -> [810,812]
                                            name: uar [812,815]
                label [819,840]
                    name: error_fail_uar_alloc [819,839]
                expr_stmt [842,857]
                    expr [842,856]
                        call [842,856]
                            name: kfree [842,847]
                            argument_list [847,856]
                                argument [848,855]
                                    expr [848,855]
                                        name: context [848,855]
                return [860,880]
                    expr [867,879]
                        call [867,879]
                            name: ERR_PTR [867,874]
                            argument_list [874,879]
                                argument [875,878]
                                    expr [875,878]
                                        name: ret [875,878]